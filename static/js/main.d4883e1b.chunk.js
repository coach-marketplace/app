(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{223:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABDgSURBVHic7Z15eFRVmoff71QlARIEBGRHxA3ZQ3AcBVoWZRFxECdx6XXEpWeemfGZeRxtUduILaJtT/fTM8/MiN060+2CxFYUBAIGMAQdhUhYIqOtEldAQAhBSFJV95s/IBAgS1Xq3ntuSL1/hUrV+X3k+91zTp1VOMPQfMw3xTnnGXSwOjJQRM9VOFegG0hX0LOBdkAG0OHLvecAHAZqgGrgW9B9KrJXlM9UqQgZ2SFqyodtfWOHgNr737mP2A4gWfZPzD43CleI8peKXAYMBTLj/fwxA8TLIdByEXnXgXecWPTt0eVvfp5ozEGi1Rlgx/jx7bLMwatVmSIwBbggmfISNEBDfKTISlFnxYFDNUUTKtZWJ1ugn7QKA2jukPR9ezOuVSEXZTrQ0a2yXTBAfQ6CLAUK0p2sZUPKC2rdLNwLAm2AfZOyBzuO3Ab8EOjmhYbLBqjPNwrPqYZ+l7Ptje1eiSRL4AygIPvGZ09SI3cde9o9jdFDA5xAWG+Qx4dvWb40aJ3IwBhA8zF7inNuEOUh0CF+6fpigGMobEX04ewtha8ExQiBMMCeiaNmCDyqyjC/tf00QD02A3Oyt65YZkO8PlYNsPd7oy7RkD4Jco2tGCwZAACBopjyzznbVmyxGIP/fD0jp0P4O34uqncDIRsx1GHTAMeIivAfabHq+4eUrz3kt7jvBtg9YdQUA08B5/qt3RABMEAdO1DnzuxtK1f5KeqbAXaMH98u01Tli+q/AMYv3eYIkAHgaMfw6Vh62j+NLl1y2A9BXwywe9Ko4UZZiHKJH3qJEDAD1FEuRm8cubmw3Gshz5/EPROzbzYObwcx+QFmiDqyYdOwqT/xWsizGkBzc0P79n3yK1Xu8krDDQJaAxxH4V8/HtTxnryCgpgX5XtigF2Th2eGasMvIszwonw3CboBAARWtKtNzxv04etVbpftehOwe9JlPUKRcHFrSH5rQWHqkfTa1ZuHT3bdra4aYM+4nF7GiRYBo9wsNwUAox01xZuHT+vrZqGuGWDn+JEDCGuJn+P4bZCLHdW3No2cOsCtAl0xwK7Jw88Ji1kBDHSjvBRNMlBjFG8cOu18NwpL2gD7x4/sHIqkFQIXuxBPijgQ6GdE17hhgqQMsGfMmI5RkULQkckGkiIxBPqFhLnJltNiA2g+hvQjz4H8RbJBpGgBwvr2tWk/TbaYFhtg31ujHgGuSzaAFC1AWN++Jn2aG+MCLTLA7gnZNyjcl6x4ihbgYvKhBXPx1au5OHxWZEn0z53aBWRBUVIcPBz3FgL7uJx8SNAAuoYwypJwzyPnm241RD7sDNq6TdBqDOBB8iHBJiDq8AhwGUD64P10mFkBJhBrG89sPEo+JFADRN5kHMIC6pkm1L0a07V11wSBrwE8TD7EaQAtJDMWokigy2kFtHITBNoAHicfIBzPm6JpzBGlf2O/Tx+8H2LC4dfPDaIJvgY2gmxEtEyj5kuM7EwjUt1lbdmBjTk5aem1PbNioVgnJ8pZYvRCceQihIuBy4GL7IStxemxmumDPlzh6ULRZrNVXcT5IdjG0S3VTVK79ewgmCAqUOQoCyVNV3ZftenrZAp7P/vq3hINTwD9K4EZGsffIXm0ON2pme7HKuFmMxUpYglwbbwF2jOBlAk8HYk6Bb3WbdrjhcLGnKs6hWtDsxT5O2C0Fxp+Jh+aMUC0iGkKCe9eqf2gC4cXDwDHexMobENkbvfVpS/7ud2qbMTUsapyL6pxPxzNopS0j6Rf42WbfypNZijyJhuQljnd85pA+LM4ck/XtaWv2dxnVzZkygQ18u/A4KQKspB8aGIcILqa6S1NPkD6sG/pcH2FF+MECiyIhaPZ3daWLra9yXJkeeGarCMyCtH7OXrMTAvQ4nSt9rS33xiNPp6RIkqAMckKuNwcfIqa2d3XblzrRmFus3n4lFGOYxYiemHcH7L05NfRYA0QWc0kXEg+uDpi+GYoJKOCmnyAEVsK36+pZjRQEN8n7D35dTT4WEZWswrlKjeFkqkJBJ7telDulNLSiJsxeYWClA2bNh/0nibeZPXJr+O0bBwp5LxwmI/xYMl4SzqGKvrgOas3/cLtWPxg07Ap94DM57S/sxYb0WtGbFn5nZXA6nFaksNhbm3odTdIuGMoPNxakw+QvbXwCZA7qd9RVUra12ZcG4TkwymJ1nyMwo+8FIy/TyC/7776/XwvY/GD7K3Lnz5ugoBU+/U5yQCxcUwRGh/zd4vmTaDLumnHpNe7BYXsrcufVtFcY5ypQUo+nNI21RbxgsDNfok33CeQHdS2G9F9/fpA/aHOVI5PB+sawqoswJfJjmPiPY5wysoiBzU3dF/37kd+xdDWOd4ERKOMBTr7HcDx5kBUEf11kL/nn4mYej9NtxVE+uD9dJjx2dZDTqcHbMXQVjne+EaK2A4MshaIMD08MfGZxxTJIQC6iv5Rw2cW41iTNomJFvXbLGGAmGB3e5fwqC3psXO+XmRL2yqifyx5tM+SMIAmMe3rAqVpEymypq7kWtO2icoBYEldJ9BaDaDwX7a02zgjAIzmY7B3pMt3aRm8ZEm7rTMEVEzNlQwEOlkJQVkhY0mN+Nkhc9ycvT1NyLF3rIvAYlvaKUBjkfONCgNs6YfA14ORU5yMGjnfiL1Tuz+Uq9htSTsFAM5Ao5YMoMp7NnRTnMBgsQYQwzYbuilOoNDHoHa+AYjyfzZ0U5xAINMIdLAh7hi+sKGb4gQqZBlVOwZIg102dFPUQ8kyiB0DAL5fkJTiNDINlpoAjl7VnsIuWYG5vCmFFUIG8OV2qgbwbfFpikapMag1A2RZ0k1xghojYscAkSi9bOimOInDRsHKHjVjcPXqkxQtQfYZoNKGtIq9Fcgp6tB9RoXPrUg7DLWhm6Iewl4j2FkOLrZXIqdAHa0waskAwCAtTnUEbSLGfGbEYYetAGK1TLKlnQJU2WFiIXsGUJhpSzsFpCkfmIzxfIKlbwIIU7WEjla0UxxaO7/nZ0YEBTZaCiIzUsNNlrTbNIJsBdG6ySBbBkDgb1XPgMuHWhmO6v/CsfMBRNhgMZbs2JrU9XN+I8g7cGx3cCjCe9G4ro7wBlXmaj5LJB/Hf3HJ810TQPRJfDiQqzFioejbcPIBEeUke+J1EgjkhSfFe8Rq62bMnJ3TRNXeYRjC9pJ5vQdD/SNilDesBQQsq+33wPhnf3LGrxHIuUPTRPUJq0E4rKz7sf4ZQdYMsKq2Lw9XjR52IKtqnq0Y/KJ91533gt15EDVSWPfzcQOE91IC7PM7mFW1ffl51aU4iIjqXSNemjXB7xj84oo5u4YCtg/Cqjyr6tDqun8cN4DkEVNOVA1+sLymPw9WXUrsRFfEGOGZy56bdpafcfjB5Lt3ZRp1XgIyrAaivLb83y48frHFSYtCRfmDX3Gsqu3L3EM5OKcPAQyoTW/3ypBFuel+xeI9KofT9HdY7GQfR8xJHe2TDBAuYaXi/fqAumo/1uj4j0zK0NgznCEDRGPv2zkXNAgjnruP7OtRWP+Fk2uAfBzB21qg+eQfRYXvZy+aNdfLWPxgzM+++nvst/sAqOofShfISZdunLYvIBrlGfBmQKaBNr9phAdGFsx6qLXWBOPmfPUPIvJb23EcQx2RZ059seErY4ooBCa7qR7vk98gov9jvu1+e+mdC1rFlTGgMnbO1w+h8pDtSOoQWLbusd6nHQfc2M6gx90UTyr5ACo/drrsWZ6zKNfOYVYJMPnuXZlj79v5fJCSD+CI/qah1xu/Nm4161DGJiucdPJPpsJRbt184ytr3CjMba6Ys2uowVmEcontWOqjsGn9Y71yQE67oaPRvYECjyUr7HLyAQYYoWjkollPDVmUG5idRePzNTz2Z1/da9TZELTkH0XzG0o+eHh17PKa/jzc8Pd8t/hY4J73c19ZjFi6PVSRzs/cNKNz1egH+uy+ebQgQeysvl/yWK/RLTXAVITliSp68OQ3isA2Ff3lBRp+viCvIOa54DE6PZN3FWrmAZcCdKnKoc83N9dbYxMMRJi6bl7vwkZ/31wBkSJeg/gXbPjw5DfGFkGero1GCrbd8ronx891+/11HSOSeSPoT1FyTv19p6qR9Nv9feTETTx2Ud4omd+7ydvNm81S9ZsMDAnlxLGd22Ly6xMD1qDyoiOmcHNewVfJFJb5bG7PkIavEnVmgkwFMpt6f4BqgoiJMaL4id7bm3pTXJmKFPEIzYxmBST5DbFTkVJEN4KWGdUvNebsjDqxI1tveeMAQKf/vKVzJGTapYWjfUS0jzoySGCoHt29dFGiggGpCeaXPNb7vubeFFe2dAkdIh0oFxo+VtbPNt9tPq3yZs7JpgkUKjIjZujKJ3s2u/M7rnpKZnBYHH7I0er1JFpz8r2ksmMZX/VYiIrvyxzViHNbPMmHBO4ITruaEpSTljKlkt80+zuW8sU5z6GnPzeeocpv1s3rG/cNLAn1VMIhfg68C6nkx0tlxzK+6PG8XyYod2pi9yfygYQMIBOIxoQfv15zbmVCs3ptHJ+agyoTI/edX/c7ksiHEv6u0m4iH/6iavRsp5GRpRQN43FzoCpyW3Nf+RqiRV3UXS9v394zd1CaIN9ryeeDxP5a/3rpNRm7iKR9S8fDQxEXa09VfXL9Y70bnO1rjhaPVpTlvvqgIG1iI4eb7O9Yyhc93KwJdGnvT5r/vt8YLR+uErQGcyukLn5IlMos1/oE7x3JkBsLCqTFbkpqvLI8r+CQpjlTQMqSKact4kJN8FFEQteV5vdO6pzHpAesy65ffCAWdqYI+mGyZbU1KrPK+KJni74ifqKx6IR35/VIetLLlRmLLbNe/caJ6VSFT90ory3Rgubgk7DKVeuf6P+1G/quTVmV3by4Io3QGCF1F1CiJNAcfBAzsSvXzu9V4Za2q3OWG/IKdkXDOgmLJ460VuJoDjaGa7nynUf7JTW9fSquT1pvmfXqN7HqzPEgr7ld9plOE83B4nBGeMLaX/Xe67amJ6Mgu1/dEhmXO7TgW5wskMu90HALPweC4qE6Yyc16d9w1qGhCEYReaIko9edFflZNc1/OnE8H8wf+dINM0X0v7F1QXUzeLUeIFm6HLz0YJ/dN92xfn4fT29X92U2Z8TLNwwxjr4EDPFDLxECaoCNDrEfVM0u8PyrtS8L1zb/9Z/KO3131mhEHsejfYdnCI7Abys7xsb4kXzwqQaoz8hF118tyFPAeX5rN0SAaoAdBvnR/tkvlvgp6vvS1bK8V1eZ9pGhIvIkEPVbP4AcQXg8vTo23O/kg4UaoD7DF+VebHCeFLTJteteYrMGEFiqTuwfK28vsHZgdyCW9GQXzJyGhuaBjvRb25IB3sORBypvf3GVDfH6BMIAACgyqmDWTIWHgBF+yfppAIH1ovL4/tkvLrW2n/EUgmOAeuQsun5sDHOvoNPxOEYfDOAAhaLO/AO3LSr2WixRAmmAOkYtvP4SFZmN8AOghxcaHhrgK4TnwCyovPWFwM6SBtoAdeQ8dUea02XvNFHyVHQGiGvnCLpsgG8FWe5I7I8HPx+8ivz8wI95tAoD1OeCZdMysqo6TBJ0qohOVuTiZMpzwQCfCixVcZZURjq/Ras5x+gorc4ApzL8T7P6hmOMAb1ckcsUhgjxX0OTkAGE/cBGlA2isiEs+t7e2QtdWZhhi1ZvgNNQZHhB7gBDbLBBzlPVASLSX9FzQM4G7QrSHjQNyPq0Kj2GcPDYJdo1wAFVvjNCBVCh8BlKBcbsqPybF3YEpffuFv8PW6uEdWkvbwwAAAAASUVORK5CYII="},516:function(e,t,n){e.exports=n(980)},656:function(e,t){},788:function(e,t,n){},789:function(e,t,n){},806:function(e,t,n){},980:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(45),c=n.n(o),i=n(11),u=n(22),s=n(128),l=n.n(s),d=n(23),f=n(24),m=n(27),E=n(26),p=n(39),g=n(55),h=n(36),v=function(e){var t=e.component,n=e.onlyCoach,r=Object(h.a)(e,["component","onlyCoach"]);return a.a.createElement(g.b,Object.assign({},r,{render:function(e){return r.user?function(e,r){return n&&!r.isCoach?a.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}}):a.a.createElement(t,e)}(e,r.user):function(e){return a.a.createElement(g.a,{to:{pathname:"/login",state:{from:e.location}}})}(e)}}))};v.defaultProps={onlyCoach:!1};var S=Object(i.b)((function(e){return{user:e.user.current}}))(v),b=n(15),O=n(14),C={SUCCESS:"success",LOADING:"loading",FAILED:"failed"},A={loading:!1,error:null,success:!1},y={status:"",error:null},_=[{label:"English",value:"en-EU"},{label:"French",value:"fr-FR"}],L=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Rather not to say",value:"not-say"}],I={PRIMARY:"#F9A409",BACKGROUND_LIGHT:"#F1F5F7",BORDER:"#BCBBBB",TEXT:"#66788A",DANGER:"#EC4C47",SUCCESS:"#47B881",WARNING:"#D9822B",INFO:"#1070CA"},j="320px",D="498px",T="768px",N="1024px",R="1280px",P={XS_AND_DOWN:"@media screen and (max-width: ".concat(j,")"),S_AND_DOWN:"@media screen and (max-width: ".concat(D,")"),M_AND_DOWN:"@media screen and (max-width: ".concat(T,")"),L_AND_DOWN:"@media screen and (max-width: ".concat(N,")"),XL_AND_DOWN:"@media screen and (max-width: ".concat(R,")"),XS_AND_UP:"@media screen and (min-width: ".concat(j,")"),S_AND_UP:"@media screen and (min-width: ".concat(D,")"),M_AND_UP:"@media screen and (min-width: ".concat(T,")"),L_AND_UP:"@media screen and (min-width: ".concat(N,")"),XL_AND_UP:"@media screen and (min-width: ".concat(R,")")},w={NONE:"0px",XXS:"4px",XS:"8px",S:"12px",M:"16px",L:"20px",XL:"32px",XXL:"64px"},x=(Object.values(w),{FULL:"\n    height: 100%;\n    ".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="",r="";return e&&(n="\n      width: ".concat(e,";\n      min-width: ").concat(e,";\n      max-width: ").concat(e,";\n    ")),t&&(r="\n      height: ".concat(t,";\n      min-height: ").concat(t,";\n      max-height: ").concat(t,";\n    ")),"\n    ".concat(n,"\n    ").concat(r,"\n  ")}("100%"),"\n  ")}),k={EN_US:"en-US",FR_FR:"fr-FR"},U=(Object.values(k),Object.values({MALE:"male",FEMALE:"female",OTHER:"other",NOT_SAY:"not-say"}),"local"),G="google";function F(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return F=function(){return e},e}function M(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  width: ",";\n  margin: 0 auto;\n  padding: 50px 0;\n\n  "," {\n    width: ",";\n  }\n  "," {\n    width: ",";\n  }\n  "," {\n    width: calc(100% - 20px);\n  }\n"]);return M=function(){return e},e}function B(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  background-color: ",";\n"]);return B=function(){return e},e}var W=O.c.div(B(),I.BACKGROUND_LIGHT),H=O.c.main(M(),(function(e){return e.isFull?"calc(100% - 20px)":"60%"}),P.L_AND_DOWN,(function(e){return e.isFull?"calc(100% - 20px)":"75%"}),P.M_AND_DOWN,(function(e){return e.isFull?"calc(100% - 20px)":"80%"}),P.S_AND_DOWN),z=O.c.footer(F()),X=n(458).a,V=n(1010),q=function(e){var t=e.size,n=e.name,r=Object(h.a)(e,["size","name"]);return a.a.createElement(V.a,Object.assign({size:t,name:n},r))};q.defaultProps={size:40,name:""};var K=q,Y=n(477),J=n(238),Q=function(e){var t=e.children,n=e.label,r=e.iconBefore,o=Object(h.a)(e,["children","label","iconBefore"]);return t||n||!r?a.a.createElement(J.a,Object.assign({},o,{iconBefore:r}),t||n):a.a.createElement(Y.a,Object.assign({icon:r},o))},Z=n(992),$=function(e){return a.a.createElement(Z.a,e)},ee=n(459),te=(n(648),n(649),function(e){return a.a.createElement(ee.SingleDatePicker,e)}),ne=n(993),re=n(68),ae=function(e){var t=Object.assign({},e);return a.a.createElement(re.a,t)};ae.displayName="Pane";var oe=ae,ce=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return a.a.createElement(ne.a,n,a.a.createElement(oe,null,t))},ie=n(131),ue=n(460),se=n.n(ue),le=n(461);n(787);function de(){var e=Object(b.a)(["\n  width: 100%;\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.3),\n    inset 0 1px 2px rgba(67, 90, 111, 0.14);\n\n  .rdw-editor-main {\n    padding: 0 18px;\n  }\n\n  h1 {\n    font-size: 24px;\n  }\n\n  a {\n    color: ",";\n  }\n"]);return de=function(){return e},e}var fe=O.c.div(de(),I.PRIMARY),me=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(e){var r;Object(d.a)(this,n),(r=t.call(this,e)).onEditorChange=function(){var e=r.props.onChange,t=r.state.editorState;e(se()(Object(ie.convertToRaw)(t.getCurrentContent())))};var a=e.value?ie.EditorState.createWithContent(ie.ContentState.createFromBlockArray(Object(ie.convertFromHTML)(e.value))):ie.EditorState.createEmpty();return r.state={editorState:a},r}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state.editorState;return a.a.createElement(fe,null,a.a.createElement(le.Editor,{toolbar:{options:["blockType","list","link"],blockType:{inDropdown:!1,options:["Normal","H1"]},list:{options:["unordered","ordered"]},link:{defaultTargetOption:"_blank",options:["link","unlink"]}},onChange:this.onEditorChange,onEditorStateChange:function(t){return e.setState({editorState:t})},editorState:t}))}}]),n}(r.Component),Ee=n(995),pe=Ee.a,ge=n(185),he=n(997),ve=n(1),Se=n.n(ve),be=n(996);function Oe(){var e=Object(b.a)(["\n  resize: ",";\n"]);return Oe=function(){return e},e}var Ce=Object(O.c)(be.a)(Oe(),(function(e){return e.isResizable}));Ce.propTypes={resize:Se.a.oneOf(["none","both","horizontal","vertical","initial","inherit"])},Ce.defaultProps={resize:"none"};var Ae=function(e){var t=e.type,n=e.placeholder,r=Object(h.a)(e,["type","placeholder"]);return["text","email","password","number"].includes(t)?a.a.createElement(ge.a,Object.assign({placeholder:n},r,{type:t})):["search"].includes(t)?a.a.createElement(he.a,Object.assign({placeholder:n},r)):["textarea"].includes(t)?a.a.createElement(Ce,Object.assign({placeholder:n},r)):void 0};Ae.displayName="Input",Ae.defaultProps={type:"text"};var ye=Ae,_e=n(998),Le=n(999),Ie=n(1e3),je=n(51),De=n(476),Te=function(e){var t=e.is,n=e.children,r=Object(h.a)(e,["is","children"]);switch(t){case"small":return a.a.createElement(_e.a,r,n);case"strong":return a.a.createElement(Le.a,r,n);case"a":return a.a.createElement(Ie.a,r,n);case"span":return a.a.createElement(je.a,r,n);case"p":default:return a.a.createElement(De.a,r,n)}},Ne=n(1001),Re=function(e){return a.a.createElement(Ne.a,e)},Pe=n(1012),we=function(e){var t=e.options,n=e.value,r=e.onChange,o=Object(h.a)(e,["options","value","onChange"]);return a.a.createElement(Pe.a,Object.assign({options:t,value:n,onChange:r},o))},xe=n(1002),ke=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return a.a.createElement(xe.a,n,t)},Ue=function(e){var t,n=e.errorMessage,r=e.label,o=e.description,c=e.isRequired,i=e.type,u=e.children,s=Object(h.a)(e,["errorMessage","label","description","isRequired","type","children"]);switch(i){case"select":t=a.a.createElement(ke,Object.assign({},s,{width:"100%"}),u);break;case"switch":t=a.a.createElement(Re,s);break;case"radio-button":t=a.a.createElement(we,s);break;case"editor-input":t=a.a.createElement(me,s);break;default:t=a.a.createElement(ye,Object.assign({},s,{type:i,width:"100%"}))}return a.a.createElement(oe,Object.assign({display:"inline-flex",flexDirection:"column",marginBottom:20,width:"100%"},function(e){var t={};return e.marginBottom&&(t.marginBottom=e.marginBottom),e.marginTop&&(t.marginTop=e.marginTop),e.marginRight&&(t.marginRight=e.marginRight),e.marginLeft&&(t.marginLeft=e.marginLeft),t}(s)),r&&a.a.createElement(oe,{display:"flex"},a.a.createElement(pe,{htmlFor:s.id||s.name,marginBottom:4},r),c&&a.a.createElement(Te,{color:I.INFO},"*")),o&&a.a.createElement(Te,{size:300,marginBottom:10},o),t,n&&a.a.createElement(Te,{color:"danger",size:300},n))};Ue.defaultProps={isRequired:!1};var Ge=Ue;function Fe(){var e=Object(b.a)(["\n  display: flex;\n  flex-wrap: ",";\n  flex-grow: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  overflow: ",";\n  cursor: ",";\n  ","\n  ","\n"]);return Fe=function(){return e},e}var Me=O.c.div(Fe(),(function(e){return e.wrap}),(function(e){return e.grow}),(function(e){return e.direction}),(function(e){var t,n=e.justifyContent;return["start","end"].includes(t=n)?"flex-".concat(t):["around","between","evenly"].includes(t)?"space-".concat(t):t}),(function(e){var t,n=e.alignItems;return["start","end"].includes(t=n)?"flex-".concat(t):t}),(function(e){return e.overflow}),(function(e){return e.onClick?"pointer":"inherit"}),(function(e){return function(e){if(!e)return x.FULL}(e.layout)}),(function(e){return function(e){var t="";return e.marginBottom&&(t+="margin-bottom: ".concat(e.marginBottom,";")),e.marginTop&&(t+="margin-top: ".concat(e.marginTop,";")),e.marginRight&&(t+="margin-right: ".concat(e.marginRight,";")),e.marginLeft&&(t+="margin-left: ".concat(e.marginLeft,";")),t}(e)}));Me.propTypes={alignItems:Se.a.oneOf(["start","end","center","baseline","stretch"]),children:Se.a.node,direction:Se.a.oneOf(["row","row-reverse","column","column-reverse"]),grow:Se.a.number,justifyContent:Se.a.oneOf(["start","center","end","around","between","evenly"]),layout:Se.a.string,onClick:Se.a.func,overflow:Se.a.oneOf(["visible","hidden","scroll","auto"]),wrap:Se.a.oneOf(["wrap","nowrap","wrap-reverse"])},Me.defaultProps={alignItems:"stretch",direction:"row",grow:0,justifyContent:"start",layout:"",wrap:"nowrap"};function Be(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n"]);return Be=function(){return e},e}var We=Object(O.c)((function(e){var t=e.children,n=Object(h.a)(e,["children"]);return a.a.createElement("form",n,t)}))(Be());function He(){var e=Object(b.a)(["\n  object-fit: cover;\n\n  ","\n"]);return He=function(){return e},e}var ze=O.c.img(He(),(function(e){var t=e.width,n=e.height;return t&&!n||!t&&n?"\n        width: ".concat(t||n,";\n        height: ").concat(t||n,";\n      "):"\n      width: auto;\n      height: auto;\n    "})),Xe=function(e){var t=e.src,n=e.alt,r=Object(h.a)(e,["src","alt"]);return a.a.createElement(ze,Object.assign({src:t,alt:n},r))},Ve=n(1013),qe=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return a.a.createElement(Ve.a,n,a.a.createElement(oe,{marginTop:30,marginBottom:30,marginLeft:50,marginRight:50},t))},Ke=n(983);function Ye(){var e=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return Ye=function(){return e},e}var Je=O.c.div(Ye()),Qe=function(e){return a.a.createElement(Je,null,a.a.createElement(Ke.a,e))};Qe.displayName="Spinner";var Ze=Qe,$e=n(1004),et=function(e){return a.a.createElement($e.a,e)},tt=n(1005),nt=function(e){return a.a.createElement(tt.a,e)},rt=n(475),at=function(e){return a.a.createElement(rt.a,e)},ot=at;at.displayName="Heading";var ct=function(e){var t=e.children,n=e.h,r=e.size,o=e.marginBottom,c=Object(h.a)(e,["children","h","size","marginBottom"]);return a.a.createElement(ot,Object.assign({size:r,is:"h".concat(n)},c,{marginBottom:o}),t)};ct.defaultProps={marginBottom:20,size:800,h:1};var it=ct,ut=n(1006).a;n(788);ge.a;var st=n(144),lt=n.n(st);function dt(){var e=Object(b.a)(["\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f4f4f4;\n  }\n"]);return dt=function(){return e},e}function ft(){var e=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  height: auto;\n  min-height: 100px;\n  top: 100%;\n  border: 1px solid ",";\n  background-color: #fff;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  z-index: ",";\n  display: flex;\n  flex-direction: column;\n"]);return ft=function(){return e},e}function mt(){var e=Object(b.a)(["\n  position: relative;\n"]);return mt=function(){return e},e}var Et=O.c.div(mt()),pt=O.c.div(ft(),I.CORNFLOWER_BLUE,1e4),gt=O.c.li(dt()),ht=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={shouldBeClosed:!1},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isVisible,r=this.state.shouldBeClosed;return!n||r?null:a.a.createElement(pt,null,t)}}]),n}(r.Component);function vt(){var e=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n"]);return vt=function(){return e},e}var St=O.c.div(vt()),bt=function(){return a.a.createElement(St,null,a.a.createElement(Te,null,"No result"))};bt.displayName="NoResultText";var Ot=bt,Ct=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onSearchFunction=lt()((function(){return e.props.onSearch()}),200),e.onChange=function(t){var n=t.target.value;(0,e.props.onChange)(n),n.length>3&&e.onSearchFunction()},e.renderDropdownContent=function(){var t=e.props,n=t.isLoading,r=t.propositions,o=t.onSelect;return n?a.a.createElement(Ze,null):r.length?a.a.createElement("ul",null,r.map((function(e,t){return a.a.createElement(gt,{key:t,onClick:function(){return o(t)}},a.a.createElement(Mt,null,e.label))}))):a.a.createElement(Ot,null)},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.propositions,r=e.placeholder,o=e.id,c=t.length>=3&&!n.some((function(e){return e.label===t}));return a.a.createElement(Et,null,a.a.createElement(ye,{placeholder:r,value:t,onChange:this.onChange,style:{width:"100%"},id:o}),a.a.createElement(ht,{isVisible:c},this.renderDropdownContent()))}}]),n}(r.Component);Ct.defaultProps={propositions:[],isLoading:!1};var At=n(474);n(789);var yt=X,_t=K,Lt=Q,It=$,jt=ce,Dt=te,Tt=Ge,Nt=We,Rt=Xe,Pt=ye,wt=pe,xt=oe,kt=qe,Ut=Ze,Gt=nt,Ft=et,Mt=Te,Bt=it,Wt=ut,Ht=function(e){var t=e.closeable,n=e.onDelete,r=e.text;return a.a.createElement("div",{class:"tag"},a.a.createElement("div",null,r),t&&a.a.createElement("button",{class:"tag-button",onClick:n},"x"))},zt=function(e){var t=e.title,n=e.items,o=e.addSelectedItem,c=e.removeSelectedItem,i=e.selectedItems,s=Object(r.useState)(""),l=Object(u.a)(s,2),d=l[0],f=l[1],m=function(e){f(e.target.value)},E=function(){return n.filter((function(e){return i.indexOf(e)<0&&e.toLowerCase().startsWith(d.toLowerCase())}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(At.a,{selectedItem:d,onChange:function(e){return function(e){o(e),f("")}(e)}},(function(e){e.getLabelProps;var n=e.getInputProps,r=(e.getButtonProps,e.getMenuProps),o=e.getItemProps,c=e.isOpen,i=(e.toggleMenu,e.clearSelection,e.selectedItem,e.highlightedIndex),u=n({value:d,onChange:m});return a.a.createElement("div",null,a.a.createElement(Tt,Object.assign({label:t},u)),a.a.createElement("ul",Object.assign({},r(),{className:"menu",style:c&&E().length>0?{borderBottom:"solid 1px #AAA"}:{}}),c&&E().map((function(e,t){return a.a.createElement("li",Object.assign({},o({item:e,index:t}),{style:t===i?{backgroundColor:"#bde4ff",cursor:"grab"}:{}}),e)}))))})),a.a.createElement("div",{style:{display:"flex"}},i.map((function(e,t){return a.a.createElement(Ht,{closeable:!0,text:e,onDelete:function(){return c(t)}})}))))},Xt=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.main,r=e.footer,o=e.isMainFull;return a.a.createElement(W,null,t&&a.a.createElement(xt,{elevation:1,is:"header",display:"flex",paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:3,alignItems:"center",background:"white"},t),a.a.createElement(H,{isFull:o},n),r&&a.a.createElement(z,null,r))}}]),n}(r.Component);Xt.defaultProps={isMainFull:!1};var Vt=Xt,qt=n(1007),Kt=n(1003),Yt=n(1008),Jt=Object(i.b)((function(e){return{user:e.user.current}}))((function(e){var t=e.logout,n=e.user;return a.a.createElement(Yt.a,null,a.a.createElement(Yt.a.Group,{title:n.email},a.a.createElement(p.b,{to:"/account/profile"},a.a.createElement(Yt.a.Item,null,"Account"))),a.a.createElement(Yt.a.Divider,null),a.a.createElement(Yt.a.Group,null,a.a.createElement(Yt.a.Item,{intent:"danger",onSelect:function(){return t()}},"Logout")))})),Qt=n(186),Zt=n.n(Qt),$t=function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,null,[{key:"init",value:function(){this.headers={"Content-type":"application/json"},this.baseUrl="".concat("https://coachmarketplaceapi-prod.herokuapp.com/","v1/")}},{key:"setToken",value:function(e){if(!this.headers)throw new Error("No headers in API instance");this.headers.authorization=e}},{key:"get",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";return Object.keys(t).length>0&&(n+="?".concat(l.a.stringify(t))),Zt()({method:"get",url:"".concat(this.baseUrl).concat(e).concat(n),headers:this.headers})}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zt()({method:"post",url:"".concat(this.baseUrl).concat(e),headers:this.headers,data:t})}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zt()({method:"put",url:"".concat(this.baseUrl).concat(e),headers:this.headers,data:t})}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zt()({method:"delete",url:"".concat(this.baseUrl).concat(e),headers:this.headers,data:t})}}]),e}();$t.init();var en=$t,tn="LOGIN".concat(C.FAILED),nn="LOGIN".concat(C.LOADING),rn="LOGIN".concat(C.SUCCESS),an="REGISTER".concat(C.FAILED),on="REGISTER".concat(C.LOADING),cn="REGISTER".concat(C.SUCCESS),un=function(e){return function(t){t({type:on}),en.post("auth/register-local",e).then((function(e){var n;t((n=e.data,{type:cn,payload:n}))})).catch((function(e){t(function(e){return{type:an,error:e}}(e.message))}))}},sn=function(e){return function(t){t({type:nn}),en.post("auth/login-local",{email:e.email,password:e.password}).then((function(e){var n;t((n=e.data,{type:rn,payload:n}))})).catch((function(e){t(function(e){return{type:tn,error:e}}(e.message))}))}},ln=function(){function e(t){Object(d.a)(this,e),this._id=null,this.accounts=[],this.avatar="",this.createdAt=null,this.email="",this.phone="",this.firstName="",this.lastName="",this.gender="",this.dateOfBirth="",this.isAdmin=!1,this.isArchived=!1,this.isCoach=!1,this.isEmailVerified=!1,this.isOnline=!1,this._id=t._id,this.firstName=t.firstName,this.lastName=t.lastName,this.email=t.email,this.phone=t.phone,this.dateOfBirth=t.dateOfBirth,this.gender=t.gender,this.isArchived=t.isArchived,this.isCoach=t.isCoach,this.isAdmin=t.isAdmin,this.isOnline=t.isOnline,this.isEmailVerified=t.isEmailVerified,this.createdAt=t.createdAt,this.accounts=t.accounts,this.setAvatar(t)}return Object(f.a)(e,[{key:"setAvatar",value:function(e){var t=e.accounts;if(t&&t.length){var n=t.find((function(e){return"local"!==e.type}));n&&(this.avatar=n.avatar)}}},{key:"subscriptionDate",get:function(){return new Date(this.createdAt).toDateString()}},{key:"fullName",get:function(){var e="";return e+=this.firstName?"".concat(this.firstName," "):"? ",e+=this.lastName?"".concat(this.lastName," "):"?"}}]),e}();function dn(){var e=Object(b.a)(["\n  display: flex;\n"]);return dn=function(){return e},e}var fn=O.c.div(dn()),mn=Object(i.b)((function(e){return{user:new ln(e.user.current)}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})}}}))((function(e){var t,n=e.user,r=e.logout;return t=n?a.a.createElement(qt.a,{position:Kt.a.TOP_RIGHT,content:function(){return a.a.createElement(Jt,{logout:r})}},a.a.createElement(Q,{appearance:"minimal",height:48,iconAfter:"caret-down"},a.a.createElement(K,{name:n.fullName,src:n.avatar,size:40}))):a.a.createElement(a.a.Fragment,null,a.a.createElement(p.b,{to:"/login"},a.a.createElement(Q,{label:"Login",appearance:"minimal"})),a.a.createElement(p.b,{to:"/register"},a.a.createElement(Q,{label:"Register",appearance:"minimal"}))),a.a.createElement(fn,{className:"auth-state"},t)})),En=(n(806),function(){return a.a.createElement("div",{className:"logo"},a.a.createElement(p.b,{to:"/"},"Logo"))});function pn(){var e=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n"]);return pn=function(){return e},e}function gn(){var e=Object(b.a)(["\n  display: flex;\n  height: 40px;\n"]);return gn=function(){return e},e}var hn=O.c.ul(gn()),vn=O.c.li(pn()),Sn=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={navItems:[{label:"Services",path:"/services",onlyCoach:!0},{label:"Customers",path:"/customers",onlyCoach:!0},{label:"Library",path:"/library/exercises",onlyCoach:!0},{label:"Messages",path:"/inbox",onlyCoach:!1}]},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.navItems,t=this.props.user;return a.a.createElement(hn,{className:"navigation"},a.a.createElement(vn,null,!t.isCoach&&a.a.createElement(p.b,{key:-1,to:"/coach/new"},a.a.createElement(Lt,{is:"div",label:"Become a Coach",appearance:"minimal"})),e.map((function(e,n){return a.a.createElement(p.b,{key:n,to:e.path,style:{display:e.onlyCoach&&!t.isCoach?"none":"block"}},a.a.createElement(Lt,{is:"div",label:e.label,appearance:"minimal"}))}))))}}]),n}(r.PureComponent),bn=Object(i.b)((function(e){return{user:e.user.current}}))(Sn);function On(){var e=Object(b.a)(["\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: flex-end;\n"]);return On=function(){return e},e}var Cn=O.c.div(On()),An=Object(i.b)((function(e){return{user:e.user.current}}))((function(e){var t=e.user;return a.a.createElement(r.Fragment,null,a.a.createElement(En,null),a.a.createElement(Cn,null,t&&a.a.createElement(bn,null),a.a.createElement(mn,null)))})),yn=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement("p",null,"WIP")})}}]),n}(r.Component);function _n(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  margin: 0 auto;\n"]);return _n=function(){return e},e}var Ln=O.c.div(_n()),In=n(223),jn=n.n(In),Dn=Object(g.h)((function(e){var t=e.location,n=e.title;return a.a.createElement(xt,{display:"flex",flexDirection:"column",alignItems:"center"},a.a.createElement(Mt,{marginBottom:20},n),a.a.createElement(Lt,{onClick:function(){var e=t.pathname,n=t.search,r="".concat("https://app.fitigai.com/".slice(0,-1)).concat(e).concat(function(e){var t=l.a.parse(e),n={};t.requestUri&&(n.requestUri=t.requestUri);var r=l.a.stringify(n);return r?"?".concat(r):""}(n));window.location="".concat("https://coachmarketplaceapi-prod.herokuapp.com/","v1/auth/login-google?isCoach=true&redirectUrl=").concat(r)},appearance:"minimal"},a.a.createElement(Rt,{src:jn.a,alt:"Google icon",width:"20px",style:{marginRight:"5px"}}),"Google"))})),Tn=n(43),Nn=n(58),Rn=Nn.a({email:Nn.b().email("Invalid email address").required("Required"),password:Nn.b().min(6,"Password should have at least 6 characters").required("Required")}),Pn=function(e){var t=e.initialValues,n=e.onRegister,r=e.onSubmit,o=e.isLoading,c=Object(Tn.c)({initialValues:{email:t.email||"",password:t.password||""},validationSchema:Rn,onSubmit:function(e){r(e)}}),i=c.handleSubmit,u=c.handleBlur,s=c.handleChange,l=c.touched,d=c.values,f=c.errors;return a.a.createElement(Nt,{onSubmit:i},a.a.createElement(Tt,{label:"Email",name:"email",type:"email",placeholder:"john@doe.com",onChange:s,onBlur:u,value:d.email,errorMessage:l.email&&f.email,isRequired:!0,marginRight:20,disabled:o}),a.a.createElement(Tt,{label:"Password",name:"password",type:"password",placeholder:"********",onChange:s,onBlur:u,value:d.password,errorMessage:l.password&&f.password,isRequired:!0,marginRight:20,disabled:o}),a.a.createElement(xt,{display:"flex"},a.a.createElement(Lt,{type:"submit",isLoading:o,appearance:"primary"},"Login"),n&&a.a.createElement(Lt,{label:"No account yet? Register",appearance:"minimal",onClick:n,disabled:o})))};Pn.defaultProps={initialValues:{}};var wn=Pn,xn=Object(i.b)((function(e){return{isLoginError:e.auth.actions.login.error,isLoginLoading:e.auth.actions.login.loading,isLoginSuccess:e.auth.actions.login.success,user:e.user.current}}),(function(e){return{login:function(t){return e(sn(t))},cleanLoginStore:function(){return e((function(e){return e({type:"LOGIN_CLEAN"})}))}}}))((function(e){var t=e.isLoginError,n=e.isLoginLoading,o=e.isLoginSuccess,c=e.user,i=e.history,s=e.login,l=e.cleanLoginStore,d=Object(r.useState)(!1),f=Object(u.a)(d,2),m=f[0],E=f[1];Object(r.useEffect)((function(){!n&&o?window.location="/":!n&&t&&(Wt.danger("Email or password incorrect"),E(!1),l())}),[l,t,n,o]);return c?a.a.createElement(g.a,{to:"/"}):a.a.createElement(Vt,{main:a.a.createElement(Ln,null,a.a.createElement(Bt,null,"Login"),a.a.createElement(Dn,{title:"Connect with:"}),a.a.createElement(Mt,{marginTop:30,marginBottom:30},"\u2014 or \u2014"),a.a.createElement(wn,{onSubmit:function(e){E(!0),s(e)},onRegister:function(){return i.push("/register")},isLoading:m}))})})),kn=Nn.a({firstName:Nn.b().required("Required"),lastName:Nn.b().required("Required"),email:Nn.b().email("Invalid email address").required("Required"),password:Nn.b().min(6,"Password should have at least 6 characters").required("Required")}),Un=function(e){var t=e.initialValues,n=e.onLogin,r=e.isLoading,o=e.onSubmit,c=Object(Tn.c)({initialValues:{firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",password:t.password||""},validationSchema:kn,onSubmit:function(e){o(e)}}),i=c.handleSubmit,u=c.handleBlur,s=c.handleChange,l=c.touched,d=c.values,f=c.errors;return a.a.createElement(Nt,{onSubmit:i},a.a.createElement(xt,{display:"flex",width:"100%"},a.a.createElement(Tt,{label:"First name",name:"firstName",type:"text",placeholder:"John",onChange:s,onBlur:u,value:d.firstName,errorMessage:l.firstName&&f.firstName,isRequired:!0,marginRight:20,disabled:r}),a.a.createElement(Tt,{label:"Last name",name:"lastName",type:"text",placeholder:"Doe",onChange:s,onBlur:u,value:d.lastName,errorMessage:l.lastName&&f.lastName,isRequired:!0,disabled:r})),a.a.createElement(Tt,{label:"Email",name:"email",type:"email",placeholder:"john@doe.com",onChange:s,onBlur:u,value:d.email,errorMessage:l.email&&f.email,isRequired:!0,marginRight:20,disabled:r}),a.a.createElement(Tt,{label:"Password",name:"password",type:"password",placeholder:"********",onChange:s,onBlur:u,value:d.password,errorMessage:l.password&&f.password,isRequired:!0,marginRight:20,disabled:r}),a.a.createElement("div",null,a.a.createElement(Lt,{label:"Register",type:"submit",isLoading:r,appearance:"primary"}),n&&a.a.createElement(Lt,{label:"Already an account? Log in",appearance:"minimal",onClick:n,disabled:r})))};Un.defaultProps={initialValues:{}};var Gn=Un,Fn=Object(i.b)((function(e){return{isRegisterLoading:e.auth.actions.register.loading,isRegisterError:e.auth.actions.register.error,isRegisterSuccess:e.auth.actions.register.success,isLoginLoading:e.auth.actions.login.loading,isLoginError:e.auth.actions.login.error,isLoginSuccess:e.auth.actions.login.success,user:e.user.current}}),(function(e){return{register:function(t){return e(un(t))},login:function(t){return e(sn(t))},cleanLoginStore:function(){return e((function(e){return e({type:"LOGIN_CLEAN"})}))},cleanRegisterStore:function(){return e((function(e){return e({type:"REGISTER_CLEAN"})}))}}}))((function(e){var t=e.cleanRegisterStore,n=e.cleanLoginStore,o=e.history,c=e.isRegisterLoading,i=e.isRegisterError,s=e.isRegisterSuccess,l=e.isLoginLoading,d=e.isLoginError,f=e.isLoginSuccess,m=e.login,E=e.register,p=e.user,h=Object(r.useState)({}),v=Object(u.a)(h,2),S=v[0],b=v[1],O=Object(r.useState)(!1),C=Object(u.a)(O,2),A=C[0],y=C[1];Object(r.useEffect)((function(){!c&&i?(Wt.danger("Error during registration"),y(!1),t()):!c&&s&&m(S)}),[t,i,c,s,m,S]),Object(r.useEffect)((function(){!l&&d?(Wt.danger("Error during authentication, try to login"),y(!1),n()):!l&&f&&(window.location="/")}),[n,d,l,f]);return p?a.a.createElement(g.a,{to:"/"}):a.a.createElement(Vt,{main:a.a.createElement(Ln,null,a.a.createElement(Bt,null,"Register"),a.a.createElement(Dn,{title:"Register with:"}),a.a.createElement(Mt,{marginTop:30,marginBottom:30},"\u2014 or \u2014"),a.a.createElement(Gn,{onLogin:function(){o.push("/login")},onSubmit:function(e){b({email:e.email,password:e.password}),E(e)},isLoading:A}))})}));function Mn(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Mn=function(){return e},e}function Bn(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n  box-sizing: border-box;\n"]);return Bn=function(){return e},e}var Wn=O.c.div(Bn()),Hn=O.c.div(Mn());function zn(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 20px;\n\n  > .full-name {\n    margin-bottom: 5px;\n    ","\n  }\n  > .date {\n    ","\n  }\n"]);return zn=function(){return e},e}function Xn(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex: 1;\n"]);return Xn=function(){return e},e}function Vn(){var e=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  width: 250px;\n  ","\n"]);return Vn=function(){return e},e}function qn(){var e=Object(b.a)(["\n  display: flex;\n  width: 300px;\n"]);return qn=function(){return e},e}function Kn(){var e=Object(b.a)(["\n  display: flex;\n  padding: 10px;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"]);return Kn=function(){return e},e}var Yn=O.c.div(Kn(),(function(e){return e.theme.colorBorder})),Jn=O.c.div(qn()),Qn=O.c.div(Vn(),(function(e){var t=e.theme;return"\n    font-size: ".concat(t.fontSizeS,";\n  ")})),Zn=O.c.div(Xn()),$n=O.c.div(zn(),(function(e){var t=e.theme;return"\n      font-size: ".concat(t.fontSizeS,";\n      font-weight: ").concat(t.fontWeightBold,";\n    ")}),(function(e){var t=e.theme;return"\n      font-size: ".concat(t.fontSizeXS,";\n      font-weight: ").concat(t.fontWeightNormal,";\n    ")})),er=function(e){var t=e.userData,n=e.onManageClick,o=e.onMessageClick,c=Object(r.useState)({}),i=Object(u.a)(c,2),s=i[0],l=i[1];return Object(r.useEffect)((function(){t&&l(new ln(t))}),[t]),a.a.createElement(Yn,null,a.a.createElement(Jn,null,a.a.createElement(_t,{name:s.fullName,src:s.avatar}),a.a.createElement($n,null,a.a.createElement("span",{className:"full-name"},s.fullName),a.a.createElement("span",{className:"date"},s.subscriptionDate))),a.a.createElement(Qn,null,s.email),a.a.createElement(Zn,null,a.a.createElement(Lt,{onClick:o,appearance:"minimal"},"chat"),a.a.createElement(Lt,{onClick:n,appearance:"minimal"},"manage")))};function tr(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-end;\n  flex: 1;\n  padding: 0 10px;\n  ","\n"]);return tr=function(){return e},e}function nr(){var e=Object(b.a)(["\n  display: flex;\n  width: 250px;\n  padding: 0 10px;\n  ","\n"]);return nr=function(){return e},e}function rr(){var e=Object(b.a)(["\n  display: flex;\n  width: 300px;\n  padding: 0 10px;\n  ","\n"]);return rr=function(){return e},e}function ar(){var e=Object(b.a)(["\n  display: flex;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ",";\n"]);return ar=function(){return e},e}var or=O.c.div(ar(),(function(e){return e.theme.colorBorder})),cr=O.c.div(rr(),(function(e){var t=e.theme;return"\n    font-size: ".concat(t.fontSizeM,";\n    font-weight: ").concat(t.fontWeightBold,";\n  ")})),ir=O.c.div(nr(),(function(e){var t=e.theme;return"\n    font-size: ".concat(t.fontSizeM,";\n    font-weight: ").concat(t.fontWeightBold,";\n  ")})),ur=O.c.div(tr(),(function(e){var t=e.theme;return"\n    font-size: ".concat(t.fontSizeM,";\n    font-weight: ").concat(t.fontWeightBold,";\n  ")})),sr=function(){return a.a.createElement(or,null,a.a.createElement(cr,null,"Customer"),a.a.createElement(ir,null,"Email"),a.a.createElement(ur,null,"Actions"))},lr=n(117),dr=n.n(lr),fr=n(183),mr=Nn.a({firstName:Nn.b().max(15,"Must be 15 characters or less").required("Required"),lastName:Nn.b().max(20,"Must be 20 characters or less").required("Required"),email:Nn.b().email("Invalid email address").required("Required"),phone:Nn.b()}),Er=function(e){var t=e.initialValues,n=e.onSubmit,r=e.ButtonLabel,o=Object(Tn.c)({initialValues:{firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||""},validationSchema:mr,onSubmit:function(e){n(e)}}),c=o.handleSubmit,i=o.handleBlur,u=o.handleChange,s=o.touched,l=o.values,d=o.errors;return a.a.createElement(Nt,{onSubmit:c},a.a.createElement(xt,{display:"flex",width:"100%"},a.a.createElement(Tt,{id:"customer-first-name",label:"First Name",name:"firstName",type:"text",placeholder:"John",onChange:u,onBlur:i,value:l.firstName,errorMessage:s.firstName&&d.firstName,isRequired:!0,marginRight:20}),a.a.createElement(Tt,{id:"customer-last-name",label:"Last Name",name:"lastName",type:"text",placeholder:"Doe",onChange:u,onBlur:i,value:l.lastName,errorMessage:s.lastName&&d.lastName,isRequired:!0})),a.a.createElement(Tt,{label:"Email Address",name:"email",type:"email",placeholder:"john@doe.com",onChange:u,onBlur:i,value:l.email,errorMessage:s.email&&d.email,isRequired:!0}),a.a.createElement(Tt,{label:"Phone number",name:"phone",type:"text",placeholder:"+32 476 64 66 71",onChange:u,value:l.phone}),a.a.createElement(Lt,{type:"submit",disabled:!!Object.keys(d).length||!Object.keys(s).length},r||"Submit"))},pr=function(e){var t=e.customer;return a.a.createElement(xt,{marginTop:50},a.a.createElement(xt,{display:"flex",justifyContent:"space-between"},a.a.createElement(xt,{display:"flex",flexDirection:"column",marginTop:10,marginBottom:10,width:"50%"},a.a.createElement(Mt,{size:300},"First name"),a.a.createElement(Mt,null,t.firstName)),a.a.createElement(xt,{display:"flex",flexDirection:"column",marginTop:10,marginBottom:10,width:"50%"},a.a.createElement(Mt,{size:300},"Last name"),a.a.createElement(Mt,null,t.lastName))),a.a.createElement(xt,{display:"flex",flexDirection:"column",marginTop:10,marginBottom:10},a.a.createElement(Mt,{size:300},"Email"),a.a.createElement(Mt,null,t.email)))},gr="GET_CUSTOMERS".concat(C.FAILED),hr="GET_CUSTOMERS".concat(C.LOADING),vr="GET_CUSTOMERS".concat(C.SUCCESS),Sr="CREATE".concat(C.FAILED),br="CREATE".concat(C.LOADING),Or="CREATE".concat(C.SUCCESS),Cr=n(76),Ar=n(465),yr=n(4),_r=n.n(yr),Lr=n(13),Ir={token:null,actions:{login:Object(Lr.a)({},A),register:Object(Lr.a)({},A)}},jr=function(e,t){if(localStorage&&(localStorage.setItem("token",e),t)){var n=new Date((new Date).getTime()+1e3*t);localStorage.setItem("token_expiration",n)}},Dr=function(e){var t=_r()(e);return t.actions.login.loading=!0,t.actions.login.success=!1,t.actions.login.error=null,t},Tr=function(e,t){var n=_r()(e);return n.actions.login.loading=!1,n.actions.login.success=!1,n.actions.login.error=t.error,n},Nr=function(e,t){var n=_r()(e),r=t.payload.token;return n.token=r,n.actions.login.loading=!1,n.actions.login.error=null,n.actions.login.success=!0,jr(r),n},Rr=function(e){var t=_r()(e);return t.actions.login.loading=!1,t.actions.login.error=null,t.actions.login.success=!1,t},Pr=function(e){var t=_r()(e);return t.actions.register.loading=!0,t.actions.register.success=!1,t.actions.register.error=null,t},wr=function(e,t){var n=_r()(e);return n.actions.register.loading=!1,n.actions.register.success=!1,n.actions.register.error=t.error,n},xr=function(e,t){var n=_r()(e);return n.actions.register.loading=!1,n.actions.register.success=!0,n.actions.register.error=null,n},kr=function(e){var t=_r()(e);return t.actions.register.loading=!1,t.actions.register.error=null,t.actions.register.success=!1,t},Ur=function(e){return localStorage&&(localStorage.removeItem("token"),localStorage.removeItem("token_expiration")),window.location="/login",_r()(e)},Gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Dr(e);case tn:return Tr(e,t);case rn:return Nr(e,t);case"LOGIN_CLEAN":return Rr(e);case on:return Pr(e);case an:return wr(e,t);case cn:return xr(e);case"REGISTER_CLEAN":return kr(e);case"LOGOUT":return Ur(Ir);default:return e}},Fr=n(25),Mr={list:[],actions:{getAll:Object(Lr.a)({},A),fetch:Object(Lr.a)({},y),create:Object(Lr.a)({},A)}},Br=function(e,t){var n=_r()(e);return n.actions.getAll.loading=!1,n.actions.getAll.success=!1,n.actions.getAll.error=t.error,n},Wr=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll.loading=!1,n.actions.getAll.error=null,n.actions.getAll.success=!0,n},Hr=function(e){var t=_r()(e);return t.actions.getAll.loading=!0,t.actions.getAll.success=!1,t.actions.getAll.error=null,t},zr=function(e,t){var n=_r()(e);return n.actions.fetch.status=t.error,n},Xr=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return-1===a?n.list.push(r):n.list[a]=r,n.actions.fetch={status:C.SUCCESS,error:null},n},Vr=function(e){var t=_r()(e);return t.actions.fetch={status:C.LOADING,error:null},t},qr=function(e){var t=_r()(e);return t.actions.fetch=Object(Lr.a)({},y),t},Kr=function(e,t){var n=_r()(e);return n.actions.create.loading=!1,n.actions.create.success=!1,n.actions.create.error=t.error,n},Yr=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create.loading=!1,n.actions.create.error=null,n.actions.create.success=!0,n},Jr=function(e){var t=_r()(e);return t.actions.create.loading=!0,t.actions.create.success=!1,t.actions.create.error=null,t},Qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gr:return Br(e,t);case hr:return Hr(e);case vr:return Wr(e,t);case"FETCH_CUSTOMER_FAILED":return zr(e,t);case"FETCH_CUSTOMER_LOADING":return Vr(e);case"FETCH_CUSTOMER_SUCCESS":return Xr(e,t);case"CLEAN_FETCH_CUSTOMER":return qr(e);case Sr:return Kr(e,t);case br:return Jr(e);case Or:return Yr(e,t);default:return e}},Zr="GET_SERVICES".concat(C.FAILED),$r="GET_SERVICES".concat(C.LOADING),ea="GET_SERVICES".concat(C.SUCCESS),ta="CREATE_SERVICE".concat(C.FAILED),na="CREATE_SERVICE".concat(C.LOADING),ra="CREATE_SERVICE".concat(C.SUCCESS),aa={list:[],actions:{getAll:Object(Lr.a)({},A),create:Object(Lr.a)({},A)}},oa=function(e,t){var n=_r()(e);return n.actions.getAll.loading=!1,n.actions.getAll.success=!1,n.actions.getAll.error=t.error,n},ca=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll.loading=!1,n.actions.getAll.error=null,n.actions.getAll.success=!0,n},ia=function(e){var t=_r()(e);return t.actions.getAll.loading=!0,t.actions.getAll.success=!1,t.actions.getAll.error=null,t},ua=function(e,t){var n=_r()(e);return n.actions.create.loading=!1,n.actions.create.success=!1,n.actions.create.error=t.error,n},sa=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create.loading=!1,n.actions.create.error=null,n.actions.create.success=!0,n},la=function(e){var t=_r()(e);return t.actions.create.loading=!0,t.actions.create.success=!1,t.actions.create.error=null,t},da=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},A),t},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zr:return oa(e,t);case $r:return ia(e);case ea:return ca(e,t);case ta:return ua(e,t);case na:return la(e);case ra:return sa(e,t);case"CLEAN_CREATE_SERVICE":return da(e);default:return e}},ma={current:null,physicalMetrics:[],actions:{addPhysicalMetrics:Object(Lr.a)({},y),fetchAuthUser:Object(Lr.a)({},y),fetchPhysicalMetrics:Object(Lr.a)({},y),update:Object(Lr.a)({},y),updatePassword:Object(Lr.a)({},y)}},Ea=function(e,t){var n=_r()(e);return n.actions.fetchAuthUser={status:C.FAILED,error:t.error},n},pa=function(e){var t=_r()(e);return t.actions.fetchAuthUser={status:C.LOADING,error:null},t},ga=function(e,t){var n=_r()(e);return n.current=t.payload,n.actions.fetchAuthUser={status:C.SUCCESS,error:null},n},ha=function(e){var t=_r()(e);return t.actions.update={status:C.LOADING,error:null},t},va=function(e,t){var n=_r()(e),r=t.payload,a=r.firstName,o=r.lastName,c=r.phone,i=r.gender,u=r.dateOfBirth,s=r.isCoach;return n.current.firstName=a,n.current.lastName=o,n.current.phone=c,n.current.gender=i,n.current.dateOfBirth=u,n.current.isCoach=s,n.actions.update={status:C.SUCCESS,error:null},n},Sa=function(e,t){var n=_r()(e);return n.actions.update={status:C.FAILED,error:t.error},n},ba=function(e){var t=_r()(e);return t.actions.update=Object(Lr.a)({},y),t},Oa=function(e){var t=_r()(e);return t.actions.fetchPhysicalMetrics={status:C.LOADING,error:null},t},Ca=function(e,t){var n=_r()(e);return n.physicalMetrics=Object(Fr.a)(t.payload),n.actions.fetchPhysicalMetrics={status:C.SUCCESS,error:null},n},Aa=function(e,t){var n=_r()(e);return n.actions.fetchPhysicalMetrics={status:C.FAILED,error:t.error},n},ya=function(e){var t=_r()(e);return t.actions.fetchPhysicalMetrics=Object(Lr.a)({},y),t},_a=function(e){var t=_r()(e);return t.actions.addPhysicalMetrics={status:C.LOADING,error:null},t},La=function(e,t){var n=_r()(e);return n.physicalMetrics.push(t.payload),n.actions.addPhysicalMetrics={status:C.SUCCESS,error:null},n},Ia=function(e,t){var n=_r()(e);return n.actions.addPhysicalMetrics={status:C.FAILED,error:t.error},n},ja=function(e){var t=_r()(e);return t.actions.addPhysicalMetrics=Object(Lr.a)({},y),t},Da=function(e){var t=_r()(e);return t.actions.updatePassword={status:C.LOADING,error:null},t},Ta=function(e,t){var n=_r()(e);return n.actions.updatePassword={status:C.SUCCESS,error:null},n},Na=function(e,t){var n=_r()(e);return n.actions.updatePassword={status:C.FAILED,error:t.error},n},Ra=function(e){var t=_r()(e);return t.actions.updatePassword=Object(Lr.a)({},y),t},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AUTH_USER_FAILED":return Ea(e,t);case"FETCH_AUTH_USER_LOADING":return pa(e);case"FETCH_AUTH_USER_SUCCESS":return ga(e,t);case"UPDATE_USER_LOADING":return ha(e);case"UPDATE_USER_SUCCESS":return va(e,t);case"UPDATE_USER_FAILED":return Sa(e,t);case"CLEAN_UPDATE_USER":return ba(e);case"FETCH_USER_PHYSICAL_METRICS_LOADING":return Oa(e);case"FETCH_USER_PHYSICAL_METRICS_SUCCESS":return Ca(e,t);case"FETCH_USER_PHYSICAL_METRICS_FAILED":return Aa(e,t);case"CLEAN_FETCH_USER_PHYSICAL_METRICS":return ya(e);case"ADD_USER_PHYSICAL_METRICS_LOADING":return _a(e);case"ADD_USER_PHYSICAL_METRICS_SUCCESS":return La(e,t);case"ADD_USER_PHYSICAL_METRICS_FAILED":return Ia(e,t);case"CLEAN_ADD_USER_PHYSICAL_METRICS":return ja(e);case"UPDATE_PASSWORD_LOADING":return Da(e);case"UPDATE_PASSWORD_SUCCESS":return Ta(e);case"UPDATE_PASSWORD_FAILED":return Na(e,t);case"CLEAN_UPDATE_PASSWORD":return Ra(e);default:return e}},wa={list:[],actions:{getAll:Object(Lr.a)({},y),create:Object(Lr.a)({},y),update:Object(Lr.a)({},y),delete:Object(Lr.a)({},y)}},xa=function(e,t){var n=_r()(e);return n.actions.getAll={status:C.FAILED,error:t.error},n},ka=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll={status:C.SUCCESS,error:null},n},Ua=function(e){var t=_r()(e);return t.actions.getAll={status:C.LOADING,error:null},t},Ga=function(e){var t=_r()(e);return t.actions.getAll=Object(Lr.a)({},y),t},Fa=function(e,t){var n=_r()(e);return n.actions.create={status:C.FAILED,error:t.error},n},Ma=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create={status:C.SUCCESS,error:null},n},Ba=function(e){var t=_r()(e);return t.actions.create={status:C.LOADING,error:null},t},Wa=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},y),t},Ha=function(e,t){var n=_r()(e);return n.actions.update={status:C.FAILED,error:t.error},n},za=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return n.list[a]=r,n.actions.update={status:C.SUCCESS,error:null},n},Xa=function(e){var t=_r()(e);return t.actions.update={status:C.LOADING,error:null},t},Va=function(e){var t=_r()(e);return t.actions.update=Object(Lr.a)({},y),t},qa=function(e,t){var n=_r()(e);return n.actions.delete={status:C.FAILED,error:t.error},n},Ka=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r}));return a>-1&&n.list.splice(a,1),n.actions.delete={status:C.SUCCESS,error:null},n},Ya=function(e){var t=_r()(e);return t.actions.delete={status:C.LOADING,error:null},t},Ja=function(e){var t=_r()(e);return t.actions.delete=Object(Lr.a)({},y),t},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EXERCISES_FAILED":return xa(e,t);case"GET_EXERCISES_LOADING":return Ua(e);case"GET_EXERCISES_SUCCESS":return ka(e,t);case"CLEAN_GET_EXERCISES":return Ga(e);case"CREATE_EXERCISE_FAILED":return Fa(e,t);case"CREATE_EXERCISE_LOADING":return Ba(e);case"CREATE_EXERCISE_SUCCESS":return Ma(e,t);case"CLEAN_CREATE_EXERCISE":return Wa(e);case"UPDATE_EXERCISE_FAILED":return Ha(e,t);case"UPDATE_EXERCISE_LOADING":return Xa(e);case"UPDATE_EXERCISE_SUCCESS":return za(e,t);case"CLEAN_UPDATE_EXERCISE":return Va(e);case"DELETE_EXERCISE_FAILED":return qa(e,t);case"DELETE_EXERCISE_LOADING":return Ya(e);case"DELETE_EXERCISE_SUCCESS":return Ka(e,t);case"CLEAN_DELETE_EXERCISE":return Ja(e);default:return e}},Za="GET_CONVERSATIONS".concat(C.FAILED),$a="GET_CONVERSATIONS".concat(C.LOADING),eo="GET_CONVERSATIONS".concat(C.SUCCESS),to="GET_CONVERSATION".concat(C.FAILED),no="GET_CONVERSATION".concat(C.LOADING),ro="GET_CONVERSATION".concat(C.SUCCESS),ao="CREATE_CONVERSATION".concat(C.FAILED),oo="CREATE_CONVERSATION".concat(C.LOADING),co="CREATE_CONVERSATION".concat(C.SUCCESS),io={list:[],actions:{getAll:Object(Lr.a)({},A),getOne:Object(Lr.a)({},A),create:Object(Lr.a)({},A)}},uo=function(e,t){var n=_r()(e);return n.actions.getAll.loading=!1,n.actions.getAll.success=!1,n.actions.getAll.error=t.error,n},so=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll.loading=!1,n.actions.getAll.error=null,n.actions.getAll.success=!0,n},lo=function(e){var t=_r()(e);return t.actions.getAll.loading=!0,t.actions.getAll.success=!1,t.actions.getAll.error=null,t},fo=function(e,t){var n=_r()(e);return n.actions.getOne.loading=!1,n.actions.getOne.success=!1,n.actions.getOne.error=t.error,n},mo=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(e.list),[r]),n.actions.getOne.loading=!1,n.actions.getOne.error=null,n.actions.getOne.success=!0,n},Eo=function(e){var t=_r()(e);return t.actions.getOne.loading=!0,t.actions.getOne.success=!1,t.actions.getOne.error=null,t},po=function(e,t){var n=_r()(e);return n.actions.create.loading=!1,n.actions.create.success=!1,n.actions.create.error=t.error,n},go=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create.data=r._id,n.actions.create.loading=!1,n.actions.create.error=null,n.actions.create.success=!0,n},ho=function(e){var t=_r()(e);return t.actions.create.loading=!0,t.actions.create.success=!1,t.actions.create.error=null,t},vo=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},A),t},So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Za:return uo(e,t);case $a:return lo(e);case eo:return so(e,t);case to:return fo(e,t);case no:return Eo(e);case ro:return mo(e,t);case ao:return po(e,t);case oo:return ho(e);case co:return go(e,t);case"CREATE_CLEAN":return vo(e);default:return e}},bo="GET_CONVERSATION_MESSAGES".concat(C.FAILED),Oo="GET_CONVERSATION_MESSAGES".concat(C.LOADING),Co="GET_CONVERSATION_MESSAGES".concat(C.SUCCESS),Ao="POST_MESSAGE".concat(C.FAILED),yo="POST_MESSAGE".concat(C.LOADING),_o="POST_MESSAGE".concat(C.SUCCESS),Lo={listByConversationId:{},actions:{getAllFromConversation:Object(Lr.a)({},A),postMessage:Object(Lr.a)({},A)}},Io=function(e,t){var n=_r()(e);return n.actions.getAllFromConversation.loading=!1,n.actions.getAllFromConversation.success=!1,n.actions.getAllFromConversation.error=t.error,n},jo=function(e,t){var n=_r()(e),r=t.payload,a=r.conversationId,o=r.messages;return n.listByConversationId[a]=Object(Fr.a)(o),n.actions.getAllFromConversation.loading=!1,n.actions.getAllFromConversation.error=null,n.actions.getAllFromConversation.success=!0,n},Do=function(e){var t=_r()(e);return t.actions.getAllFromConversation.loading=!0,t.actions.getAllFromConversation.success=!1,t.actions.getAllFromConversation.error=null,t},To=function(e,t){var n=_r()(e);return n.actions.postMessage.loading=!1,n.actions.postMessage.success=!1,n.actions.postMessage.error=t.error,n},No=function(e,t){var n=_r()(e),r=t.payload,a=r.conversationId,o=r.message;return n.listByConversationId[a]=[].concat(Object(Fr.a)(n.listByConversationId[a]),[o]),n.actions.postMessage.loading=!1,n.actions.postMessage.error=null,n.actions.postMessage.success=!0,n},Ro=function(e){var t=_r()(e);return t.actions.postMessage.loading=!0,t.actions.postMessage.success=!1,t.actions.postMessage.error=null,t},Po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo:return Io(e,t);case Oo:return Do(e);case Co:return jo(e,t);case Ao:return To(e,t);case yo:return Ro(e);case _o:return No(e,t);default:return e}},wo={list:[],actions:{getAll:Object(Lr.a)({},y),fetch:Object(Lr.a)({},y),create:Object(Lr.a)({},y),update:Object(Lr.a)({},y),delete:Object(Lr.a)({},y)}},xo=function(e,t){var n=_r()(e);return n.actions.getAll={status:C.FAILED,error:t.error},n},ko=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll={status:C.SUCCESS,error:null},n},Uo=function(e){var t=_r()(e);return t.actions.getAll={status:C.LOADING,error:null},t},Go=function(e){var t=_r()(e);return t.actions.getAll=Object(Lr.a)({},y),t},Fo=function(e,t){var n=_r()(e);return n.actions.fetch={status:C.FAILED,error:t.error},n},Mo=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return-1===a?n.list.push(r):n.list[a]=r,n.actions.fetch={status:C.SUCCESS,error:null},n},Bo=function(e){var t=_r()(e);return t.actions.fetch={status:C.LOADING,error:null},t},Wo=function(e){var t=_r()(e);return t.actions.fetch=Object(Lr.a)({},y),t},Ho=function(e,t){var n=_r()(e);return n.actions.create={status:C.FAILED,error:t.error},n},zo=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create={status:C.SUCCESS,error:null},n},Xo=function(e){var t=_r()(e);return t.actions.create={status:C.LOADING,error:null},t},Vo=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},y),t},qo=function(e,t){var n=_r()(e);return n.actions.update={status:C.FAILED,error:t.error},n},Ko=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return n.list[a]=r,n.actions.update={status:C.SUCCESS,error:null},n},Yo=function(e){var t=_r()(e);return t.actions.update={status:C.LOADING,error:null},t},Jo=function(e){var t=_r()(e);return t.actions.update=Object(Lr.a)({},y),t},Qo=function(e,t){var n=_r()(e);return n.actions.delete={status:C.FAILED,error:t.error},n},Zo=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r}));return a>-1&&n.list.splice(a,1),n.actions.delete={status:C.SUCCESS,error:null},n},$o=function(e){var t=_r()(e);return t.actions.delete={status:C.LOADING,error:null},t},ec=function(e){var t=_r()(e);return t.actions.delete=Object(Lr.a)({},y),t},tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WORKOUTS_FAILED":return xo(e,t);case"GET_WORKOUTS_LOADING":return Uo(e);case"GET_WORKOUTS_SUCCESS":return ko(e,t);case"CLEAN_GET_WORKOUTS":return Go(e);case"FETCH_WORKOUT_FAILED":return Fo(e,t);case"FETCH_WORKOUT_LOADING":return Bo(e);case"FETCH_WORKOUT_SUCCESS":return Mo(e,t);case"CLEAN_FETCH_WORKOUT":return Wo(e);case"CREATE_WORKOUT_FAILED":return Ho(e,t);case"CREATE_WORKOUT_LOADING":return Xo(e);case"CREATE_WORKOUT_SUCCESS":return zo(e,t);case"CLEAN_CREATE_WORKOUT":return Vo(e);case"UPDATE_WORKOUT_FAILED":return qo(e,t);case"UPDATE_WORKOUT_LOADING":return Yo(e);case"UPDATE_WORKOUT_SUCCESS":return Ko(e,t);case"CLEAN_UPDATE_WORKOUT":return Jo(e);case"DELETE_WORKOUT_FAILED":return Qo(e,t);case"DELETE_WORKOUT_LOADING":return $o(e);case"DELETE_WORKOUT_SUCCESS":return Zo(e,t);case"CLEAN_DELETE_WORKOUT":return ec(e);default:return e}},nc={list:[],actions:{getAll:Object(Lr.a)({},y),getOne:Object(Lr.a)({},y),create:Object(Lr.a)({},y),update:Object(Lr.a)({},y),delete:Object(Lr.a)({},y)}},rc=function(e,t){var n=_r()(e);return n.actions.getAll={status:C.FAILED,error:t.error},n},ac=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll={status:C.SUCCESS,error:null},n},oc=function(e){var t=_r()(e);return t.actions.getAll={status:C.LOADING,error:null},t},cc=function(e){var t=_r()(e);return t.actions.getAll=Object(Lr.a)({},y),t},ic=function(e,t){var n=_r()(e);return n.actions.getOne={status:C.FAILED,error:t.error},n},uc=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return-1!==a?n.list[a]=r:n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.getOne={status:C.SUCCESS,error:null},n},sc=function(e){var t=_r()(e);return t.actions.getOne={status:C.LOADING,error:null},t},lc=function(e){var t=_r()(e);return t.actions.getOne=Object(Lr.a)({},y),t},dc=function(e,t){var n=_r()(e);return n.actions.create={status:C.FAILED,error:t.error},n},fc=function(e,t){var n=_r()(e),r=t.payload;return n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.create={status:C.SUCCESS,error:null},n},mc=function(e){var t=_r()(e);return t.actions.create={status:C.LOADING,error:null},t},Ec=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},y),t},pc=function(e,t){var n=_r()(e);return n.actions.update={status:C.FAILED,error:t.error},n},gc=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r._id}));return-1!==a?n.list[a]=r:n.list=[].concat(Object(Fr.a)(n.list),[r]),n.actions.update={status:C.SUCCESS,error:null},n},hc=function(e){var t=_r()(e);return t.actions.update={status:C.LOADING,error:null},t},vc=function(e){var t=_r()(e);return t.actions.update=Object(Lr.a)({},y),t},Sc=function(e,t){var n=_r()(e);return n.actions.delete={status:C.FAILED,error:t.error},n},bc=function(e,t){var n=_r()(e),r=t.payload,a=n.list.findIndex((function(e){return e._id===r}));return a>-1&&n.list.splice(a,1),n.actions.delete={status:C.SUCCESS,error:null},n},Oc=function(e){var t=_r()(e);return t.actions.delete={status:C.LOADING,error:null},t},Cc=function(e){var t=_r()(e);return t.actions.delete=Object(Lr.a)({},y),t},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROGRAMS_FAILED":return rc(e,t);case"GET_PROGRAMS_LOADING":return oc(e);case"GET_PROGRAMS_SUCCESS":return ac(e,t);case"CLEAN_GET_PROGRAMS":return cc(e);case"GET_ONE_FAILED":return ic(e,t);case"GET_ONE_LOADING":return sc(e);case"GET_ONE_SUCCESS":return uc(e,t);case"CLEAN_GET_ONE":return lc(e);case"CREATE_PROGRAM_FAILED":return dc(e,t);case"CREATE_PROGRAM_LOADING":return mc(e);case"CREATE_PROGRAM_SUCCESS":return fc(e,t);case"CLEAN_CREATE_PROGRAM":return Ec(e);case"UPDATE_PROGRAM_FAILED":return pc(e,t);case"UPDATE_PROGRAM_LOADING":return hc(e);case"UPDATE_PROGRAM_SUCCESS":return gc(e,t);case"CLEAN_UPDATE_PROGRAM":return vc(e);case"DELETE_PROGRAM_FAILED":return Sc(e,t);case"DELETE_PROGRAM_LOADING":return Oc(e);case"DELETE_PROGRAM_SUCCESS":return bc(e,t);case"CLEAN_DELETE_PROGRAM":return Cc(e);default:return e}},yc={list:{},actions:{getByProgram:Object(Lr.a)({},y),create:Object(Lr.a)({},y),update:Object(Lr.a)({},y),delete:Object(Lr.a)({},y)}},_c=function(e,t){var n=_r()(e);return n.actions.getByProgram={status:C.FAILED,error:t.error},n},Lc=function(e,t){var n=_r()(e),r=t.payload;return n.list[t.programId]=Object(Fr.a)(r),n.actions.getByProgram={status:C.SUCCESS,error:null},n},Ic=function(e){var t=_r()(e);return t.actions.getByProgram={status:C.LOADING,error:null},t},jc=function(e){var t=_r()(e);return t.actions.getByProgram=Object(Lr.a)({},y),t},Dc=function(e,t){var n=_r()(e);return n.actions.create={status:C.FAILED,error:t.error},n},Tc=function(e,t){var n=_r()(e),r=t.payload;return n.list[t.programId]=Object(Lr.a)({},n.list[t.programId],{},r),n.actions.create={status:C.SUCCESS,error:null},n},Nc=function(e){var t=_r()(e);return t.actions.create={status:C.LOADING,error:null},t},Rc=function(e){var t=_r()(e);return t.actions.create=Object(Lr.a)({},y),t},Pc=function(e,t){var n=_r()(e);return n.actions.update={status:C.FAILED,error:t.error},n},wc=function(e,t){var n=_r()(e),r=t.payload,a=n.list[t.programId].findIndex((function(e){return e._id===r._id}));return n.list[t.programId][a]=r,n.actions.update={status:C.SUCCESS,error:null},n},xc=function(e){var t=_r()(e);return t.actions.update={status:C.LOADING,error:null},t},kc=function(e){var t=_r()(e);return t.actions.update=Object(Lr.a)({},y),t},Uc=function(e,t){var n=_r()(e);return n.actions.delete={status:C.FAILED,error:t.error},n},Gc=function(e,t){var n=_r()(e);return t.payload.forEach((function(e){var r=n.list[t.programId].findIndex((function(t){return t._id===e}));r>-1&&n.list.splice(r,1)})),n.actions.delete={status:C.SUCCESS,error:null},n},Fc=function(e){var t=_r()(e);return t.actions.delete={status:C.LOADING,error:null},t},Mc=function(e){var t=_r()(e);return t.actions.delete=Object(Lr.a)({},y),t},Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ASSIGNMENTS_FAILED":return _c(e,t);case"GET_ASSIGNMENTS_LOADING":return Ic(e);case"GET_ASSIGNMENTS_SUCCESS":return Lc(e,t);case"CLEAN_GET_ASSIGNMENTS":return jc(e);case"CREATE_ASSIGNMENT_FAILED":return Dc(e,t);case"CREATE_ASSIGNMENT_LOADING":return Nc(e);case"CREATE_ASSIGNMENT_SUCCESS":return Tc(e,t);case"CLEAN_CREATE_ASSIGNMENT":return Rc(e);case"UPDATE_ASSIGNMENT_FAILED":return Pc(e,t);case"UPDATE_ASSIGNMENT_LOADING":return xc(e);case"UPDATE_ASSIGNMENT_SUCCESS":return wc(e,t);case"CLEAN_UPDATE_ASSIGNMENT":return kc(e);case"DELETE_ASSIGNMENT_FAILED":return Uc(e,t);case"DELETE_ASSIGNMENT_LOADING":return Fc(e);case"DELETE_ASSIGNMENT_SUCCESS":return Gc(e,t);case"CLEAN_DELETE_ASSIGNMENT":return Mc(e);default:return e}},Wc={list:[],actions:{getAll:Object(Lr.a)({},A)}},Hc=function(e,t){var n=_r()(e);return n.actions.getAll={status:C.FAILURE,error:t.error},n},zc=function(e,t){var n=_r()(e),r=t.payload;return n.list=Object(Fr.a)(r),n.actions.getAll={status:C.SUCCESS,error:null},n},Xc=function(e){var t=_r()(e);return t.actions.getAll={status:C.LOADING,error:null},t},Vc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SPORTS_FAILURE":return Hc(e,t);case"GET_SPORTS_LOADING":return Xc(e);case"GET_SPORTS_SUCCESS":return zc(e,t);default:return e}},qc={coachProfile:null,actions:{createCoachProfile:Object(Lr.a)({},y),fetchCoachProfile:Object(Lr.a)({},y),updateCoachProfile:Object(Lr.a)({},y)}},Kc=function(e,t){var n=_r()(e);return n.actions.createCoachProfile={status:C.FAILED,error:t.error},n},Yc=function(e){var t=_r()(e);return t.actions.createCoachProfile={status:C.LOADING,error:null},t},Jc=function(e,t){var n=_r()(e);return n.coachProfile=t.payload,n.actions.createCoachProfile={status:C.SUCCESS,error:null},n},Qc=function(e,t){var n=_r()(e);return n.actions.fetchCoachProfile={status:C.FAILED,error:t.error},n},Zc=function(e){var t=_r()(e);return t.actions.fetchCoachProfile={status:C.LOADING,error:null},t},$c=function(e,t){var n=_r()(e);return n.coachProfile=t.payload,n.actions.fetchCoachProfile={status:C.SUCCESS,error:null},n},ei=function(e){var t=_r()(e);return t.actions.updateCoachProfile={status:C.LOADING,error:null},t},ti=function(e,t){var n=_r()(e),r=t.payload,a=r.description,o=r.company,c=r.sports;return n.coachProfile.description=a,n.coachProfile.company=o,n.coachProfile.sports=c,n.actions.updateCoachProfile={status:C.SUCCESS,error:null},n},ni=function(e,t){var n=_r()(e);return n.actions.updateCoachProfile={status:C.FAILED,error:t.error},n},ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COACH_PROFILE_FAILED":return Kc(e,t);case"CREATE_COACH_PROFILE_LOADING":return Yc(e);case"CREATE_COACH_PROFILE_SUCCESS":return Jc(e,t);case"FETCH_COACH_PROFILE_FAILED":return Qc(e,t);case"FETCH_COACH_PROFILE_LOADING":return Zc(e);case"FETCH_COACH_PROFILE_SUCCESS":return $c(e,t);case"UPDATE_COACH_PROFILE_LOADING":return ei(e);case"UPDATE_COACH_PROFILE_SUCCESS":return ti(e,t);case"UPDATE_COACH_PROFILE_FAILED":return ni(e,t);default:return e}},ai=Object(Cr.c)({auth:Gr,customer:Qr,service:fa,exercise:Qa,user:Pa,conversation:So,message:Po,workout:tc,program:Ac,assignment:Bc,sport:Vc,coach:ri}),oi=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Cr.d,ci=Object(Cr.e)(ai,oi(Object(Cr.a)(Ar.a))),ii=function(){return function(e){e({type:hr});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/customers")).then((function(t){var n;e((n=t.data,{type:vr,payload:n}))})).catch((function(t){e(function(e){return{type:gr,error:e}}(t.message))}))}},ui=function(e){return function(t){t({type:br});var n,r=ci.getState().user.current;n=e.customerId?{leadId:e.customerId}:{email:e.email,firstName:e.firstName,lastName:e.lastName,phone:e.phone},en.post("coach/".concat(r._id,"/customers"),n).then((function(e){var n;t((n=e.data,{type:Or,payload:n}))})).catch((function(e){t(function(e){return{type:Sr,error:e}}(e.message))}))}},si=Object(i.b)((function(e){return{user:e.user.current,isCreateCustomerLoading:e.customer.actions.create.loading,isCreateCustomerSuccess:e.customer.actions.create.success,isCreateCustomerError:e.customer.actions.create.error}}),(function(e){return{createCustomer:function(t){return e(ui(t))}}}))((function(e){var t=e.isOpen,n=e.onToggle,o=e.user,c=e.createCustomer,i=e.isCreateCustomerLoading,s=e.isCreateCustomerSuccess,l=e.isCreateCustomerError,d=Object(r.useState)(""),f=Object(u.a)(d,2),m=f[0],E=f[1],p=Object(r.useState)(""),g=Object(u.a)(p,2),h=g[0],v=g[1],S=Object(r.useState)(""),b=Object(u.a)(S,2),O=b[0],C=b[1],A=Object(r.useState)(!1),y=Object(u.a)(A,2),_=y[0],L=y[1],j=Object(r.useState)(null),D=Object(u.a)(j,2),T=D[0],N=D[1],R=Object(r.useState)(!1),P=Object(u.a)(R,2),w=P[0],x=P[1];Object(r.useEffect)((function(){!i&&s&&(Wt.success("Customer successfully created"),x(!1)),!i&&l&&Wt.danger("Error when creating the customer")}),[l,i,s]);var k=function(){var e=Object(fr.a)(dr.a.mark((function e(){var t;return dr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),m){e.next=5;break}return v("Email is required"),L(!1),e.abrupt("return");case 5:return e.prev=5,e.next=8,en.get("coach/".concat(o._id,"/search-users"),{},{email:m});case 8:(t=e.sent).data?(C(""),N(t.data)):C("This email is not in the database, you have to create it manually."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),C("This email is not in the database, you have to create it manually."),L(!1);case 16:x(!0),L(!1);case 18:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(kt,{isShown:t,onCloseComplete:n},a.a.createElement(Bt,{marginBottom:20},"Add an customer"),a.a.createElement(xt,{display:"flex",flexDirection:"column",alignItems:"flex-start"},a.a.createElement(wt,{htmlFor:"add-customer-email",marginBottom:10,display:"block"},"Enter the email of your customer"),a.a.createElement(Pt,{id:"add-customer-email",value:m,type:"email",placeholder:"John@email.com",onChange:function(e){return E(e.target.value)}}),h&&a.a.createElement(Mt,{color:I.DANGER,display:"block",size:300},h),a.a.createElement(Lt,{onClick:k,marginTop:20,isLoading:_},"Next")),w&&O&&a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,{intent:"none",title:O,marginTop:20,marginBottom:20}),a.a.createElement(Er,{initialValues:{email:m},onSubmit:c})),T&&!O&&a.a.createElement(a.a.Fragment,null,a.a.createElement(pr,{customer:T}),a.a.createElement(Lt,{onClick:function(){return e={customerId:T._id},void c(e);var e}},"Add")))})),li=function(){return function(e){e({type:$a});var t=ci.getState().user.current;en.get("user/".concat(t._id,"/conversations")).then((function(t){var n;e((n=t.data,{type:eo,payload:n}))})).catch((function(t){e(function(e){return{type:Za,error:e}}(t.message))}))}},di=function(e){return function(t){t({type:no});var n=ci.getState().user.current;en.get("user/".concat(n._id,"/conversations/").concat(e)).then((function(e){var n;t((n=e.data,{type:ro,payload:n}))})).catch((function(e){t(function(e){return{type:to,error:e}}(e.message))}))}},fi=function(e){return function(t){t({type:oo});var n=ci.getState().user.current,r={memberIds:Object(Fr.a)(e)};en.post("user/".concat(n._id,"/conversations"),r).then((function(e){var n;t((n=e.data,{type:co,payload:n}))})).catch((function(e){t(function(e){return{type:ao,error:e}}(e.message))}))}},mi=Object(g.h)(Object(i.b)((function(e){return{customers:e.customer.list,isCreateCustomerLoading:e.customer.actions.create.loading,isCreateConversationLoading:e.conversation.actions.create.loading,isCreateConversationError:e.conversation.actions.create.error,isCreateConversationSuccess:e.conversation.actions.create.success,conversationJustCreated:e.conversation.actions.create.data}}),(function(e){return{createCustomer:function(t){return e(ui(t))},getCustomers:function(){return e(ii())},createConversation:function(t){return e(fi([t]))},resetCreateConversationStoreAction:function(){return e((function(e){return e({type:"CREATE_CLEAN"})}))}}}))((function(e){var t=e.customers,n=e.getCustomers,o=e.isCreateCustomerLoading,c=e.isCreateConversationLoading,i=e.isCreateConversationError,s=e.isCreateConversationSuccess,l=e.createConversation,d=e.conversationJustCreated,f=e.resetCreateConversationStoreAction,m=e.history,E=Object(r.useState)(!1),p=Object(u.a)(E,2),g=p[0],h=p[1],v=Object(r.useState)(""),S=Object(u.a)(v,2),b=S[0],O=S[1];return Object(r.useEffect)((function(){!t.length&&n()}),[t.length,n]),Object(r.useEffect)((function(){!c&&s&&d?(m.push("/conversation/".concat(d)),f()):!c&&i&&Wt.danger("Error to contact this customer")}),[d,m,i,c,s,f]),a.a.createElement("div",null,a.a.createElement(si,{onToggle:function(){return h(!g)},isOpen:g,isLoading:o}),a.a.createElement(Hn,null,a.a.createElement(Pt,{type:"search",onChange:function(e){return O(e.target.value)},value:b}),a.a.createElement(Lt,{label:"New",iconBefore:"plus",appearance:"primary",onClick:function(){return h(!g)}})),a.a.createElement(Wn,null,a.a.createElement(sr,null),t.map((function(e){return a.a.createElement(er,{key:e._id,userData:e.lead,onMessageClick:function(){return l(e.lead._id)}})}))))}))),Ei=function(){return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement("div",null,a.a.createElement(Bt,null,"Your customers"),a.a.createElement(mi,null))})},pi=function(){return function(e){e({type:$r});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/services")).then((function(t){var n;e((n=t.data,{type:ea,payload:n}))})).catch((function(t){e(function(e){return{type:Zr,error:e}}(t.message))}))}},gi=function(e){return function(t){t({type:na});var n=ci.getState().user.current,r={title:e.title,description:e.description,price:100*e.price,currency:"EUR",address:e.address,coordinates:e.coordinates};en.post("coach/".concat(n._id,"/services/add"),r).then((function(e){var n;t((n=e.data,{type:ra,payload:n}))})).catch((function(e){t(function(e){return{type:ta,error:e}}(e.message))}))}};function hi(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return hi=function(){return e},e}var vi=O.c.div(hi()),Si=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.title;return a.a.createElement(xt,{elevation:1,display:"flex",justifyContent:"flexStart",alignItems:"center",padding:20,marginTop:10,background:"white"},a.a.createElement(Mt,null,e))}}]),n}(r.Component);Si.defaultProps={};var bi=Si,Oi=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderContent=function(){var t=e.props.services;return t.length?t.map((function(e){return a.a.createElement(bi,{title:e.title,key:e.title})})):a.a.createElement(Ot,null)},e}return Object(f.a)(n,[{key:"render",value:function(){return this.props.isLoading?a.a.createElement(Ze,null):a.a.createElement(vi,null,this.renderContent())}}]),n}(r.Component);Oi.defaultProps={isLoading:!1,services:[]};var Ci=Oi,Ai=n(231),yi=n(1009),_i=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onServiceSubmitted=function(e){var t=r.props.onSubmit;e.preventDefault(),t(r.state.formData)},r.onFieldChange=function(e,t){var n=r.state.formData;r.setState({formData:Object(Lr.a)({},n,Object(Ai.a)({},t,e))})},r.searchAddresses=Object(fr.a)(dr.a.mark((function e(){var t;return dr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=r.state.formData.address,r.setState({isAutoCompleteLoading:!0},Object(fr.a)(dr.a.mark((function e(){var n;return dr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.post("geo-spatial/by-address",{address:t});case 2:n=e.sent,r.setState({propositions:Object(Fr.a)(n.data.map((function(e){return{label:e.display_name,value:[e.lat,e.lon]}}))),isAutoCompleteLoading:!1});case 4:case"end":return e.stop()}}),e)}))))}catch(n){console.log("err",n.message)}case 1:case"end":return e.stop()}}),e)}))),r.onAddressSelected=function(e){var t=r.state.propositions;r.onFieldChange(t[e].label,"address")},r.isFormValid=function(){return!0},r.state={formData:Object(Lr.a)({title:"",description:"",address:"",coordinates:[]},e.initialValues),proposition:[],isAutoCompleteLoading:!1},r}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,r=t.isLoading,o=this.state.formData;return a.a.createElement("form",{onSubmit:this.onServiceSubmitted},r&&a.a.createElement("p",null,"Loading..."),a.a.createElement(yi.a,{label:"Title of the service that you propose",description:"Try to be short, use keyword and be clear about what you are coaching.",placeholder:"CrossFit personal trainer",value:o.title,onChange:function(t){return e.onFieldChange(t.target.value,"title")}}),a.a.createElement(Ee.a,{htmlFor:"description",marginBottom:4,display:"block"},"Description"),a.a.createElement(ye,{type:"textarea",id:"description",placeholder:"Textarea placeholder...",marginBottom:4,value:o.description,onChange:function(t){return e.onFieldChange(t.target.value,"description")}}),a.a.createElement(Q,{type:"submit",label:"Create",disabled:!this.isFormValid()}),n&&a.a.createElement(Q,{type:"text",label:"Cancel",onClick:n}))}}]),n}(r.Component),Li=Object(i.b)((function(e){return{isCreateServicesSuccess:e.service.actions.create.success,isCreateServicesError:e.service.actions.create.error,isCreateServicesLoading:e.service.actions.create.loading}}),(function(e){return{createService:function(t){return e(gi(t))},cleanCreateActionStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_SERVICE"})}))}}}))((function(e){var t=e.createService,n=e.onClose,o=e.isOpen,c=e.cleanCreateActionStore,i=e.isCreateServicesSuccess,u=e.isCreateServicesError,s=e.isCreateServicesLoading;return Object(r.useEffect)((function(){!s&&i?(ut.success("Service successfully created"),c()):!s&&u&&(ut.danger("Error in creation, retry later"),c())}),[u,s,i]),a.a.createElement(qe,{isShown:o,onCloseComplete:n},a.a.createElement(it,null,"Create a service"),a.a.createElement(_i,{onSubmit:t,isLoading:s}))})),Ii=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isCreateServiceModalOpen:!1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.retrieveServices;!e.serviceList.length&&t()}},{key:"render",value:function(){var e=this,t=this.state.isCreateServiceModalOpen,n=this.props,o=n.isFetchServicesLoading,c=n.serviceList;return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(r.Fragment,null,a.a.createElement(Li,{onClose:function(){return e.setState({isCreateServiceModalOpen:!1})},isOpen:t}),a.a.createElement(it,null,"Your services"),a.a.createElement(Q,{label:"New",iconBefore:"plus",appearance:"minimal",onClick:function(){return e.setState({isCreateServiceModalOpen:!0})}}),a.a.createElement(Ci,{services:c,isLoading:o}))})}}]),n}(a.a.Component),ji=Object(i.b)((function(e){return{serviceList:e.service.list,isFetchServicesLoading:e.service.actions.getAll.loading}}),(function(e){return{retrieveServices:function(){return e(pi())}}}))(Ii);function Di(){var e=Object(b.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n"]);return Di=function(){return e},e}function Ti(){var e=Object(b.a)(["\n  display: flex;\n  width: 240px;\n"]);return Ti=function(){return e},e}function Ni(){var e=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]);return Ni=function(){return e},e}var Ri=O.c.div(Ni()),Pi=O.c.aside(Ti()),wi=O.c.section(Di()),xi=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.aside,n=e.section;return a.a.createElement(Ri,null,a.a.createElement(Pi,null,t),a.a.createElement(wi,null,n))}}]),n}(r.Component),ki=function(){var e=[{label:"Profile",path:"/account/profile"},{label:"Metrics",path:"/account/metrics"},{label:"Accounts & Security",path:"/account/account-and-security"}];return Object(i.d)((function(e){return e.user.current.isCoach}))&&e.push({label:"Coach Profile",path:"/account/coach-profile"}),a.a.createElement(oe,{width:200,display:"flex",flexDirection:"column",border:"default",padding:20,alignItems:"stretch"},e.map((function(e){return a.a.createElement(p.b,{to:e.path,key:e.path},a.a.createElement(Q,{label:e.label,appearance:"minimal",width:"100%"}))})))},Ui=function(e){return function(t){t({type:"FETCH_AUTH_USER_LOADING"}),en.setToken(e||function(){if(localStorage)return localStorage.getItem("token")}()),en.get("user/me").then((function(e){t({type:"FETCH_AUTH_USER_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"FETCH_AUTH_USER_FAILED",error:e}}(e.message))}))}},Gi=function(e){return function(t){t({type:"UPDATE_USER_LOADING"});var n=ci.getState().user.current;en.put("user/".concat(n._id),e).then((function(e){t({type:"UPDATE_USER_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"UPDATE_USER_FAILED",error:e}}({error:"We could not update your profile. Please try again later."}))}))}},Fi=Object(i.b)((function(e){return{user:e.user.current,updateUserProfileStatus:e.user.actions.update.status}}),(function(e){return{updateUser:function(t){return e(Gi(t))},cleanUpdateUserStore:function(){return e((function(e){return e({type:"CLEAN_UPDATE_USER"})}))}}}))((function(e){var t=e.user,n=e.updateUserProfileStatus,o=e.updateUser,c=e.cleanUpdateUserStore,i=Object(Tn.c)({enableReinitialize:!0,initialValues:{firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",gender:t.gender||"",birthDate:t.birthDate||"",lang:t.lang||k.EN_US},onSubmit:function(e){o(e)}}),u=i.handleSubmit,s=i.handleChange,l=i.values,d=i.errors,f=i.touched,m=i.handleBlur;return Object(r.useEffect)((function(){n===C.SUCCESS?(Wt.success("Your changes have been saved"),c()):n===C.FAILED&&(Wt.danger("An error occurred, please try again later"),c())}),[c,n]),a.a.createElement(Nt,{onSubmit:u},a.a.createElement(Tt,{label:"First name",name:"firstName",type:"text",placeholder:"First name",onChange:s,onBlur:m,value:l.firstName,errorMessage:f.firstName&&d.firstName,disabled:n===C.LOADING}),a.a.createElement(Tt,{label:"Last name",name:"lastName",type:"text",placeholder:"Last name",onChange:s,onBlur:m,value:l.lastName,errorMessage:f.lastName&&d.lastName,disabled:n===C.LOADING}),a.a.createElement(Tt,{label:"Phone number",name:"phone",type:"text",placeholder:"+32 476 64 66 71",onChange:s,onBlur:m,value:l.phone}),a.a.createElement(Tt,{label:"Default language",name:"lang",type:"select",onChange:s,onBlur:m,options:_,value:l.lang},_.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.a.createElement(Tt,{label:"Gender",name:"gender",type:"select",onChange:s,onBlur:m,options:L,value:l.gender},L.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.a.createElement(Lt,{type:"submit",isLoading:n===C.LOADING,appearance:"primary"},"Save"))})),Mi=n(29),Bi=n.n(Mi),Wi=Object(i.b)((function(e){return{addMetricsStatus:e.user.actions.addPhysicalMetrics.status}}),(function(e){return{addPhysicalMetrics:function(t){return e(function(e){return function(t){t({type:"ADD_USER_PHYSICAL_METRICS_LOADING"});var n=ci.getState().user.current;en.post("user/".concat(n._id,"/physical-metrics"),e).then((function(e){t({type:"ADD_USER_PHYSICAL_METRICS_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"ADD_USER_PHYSICAL_METRICS_FAILED",error:e}}("Error during adding."))}))}}(t))},cleanAddUserStore:function(){return e((function(e){return e({type:"CLEAN_ADD_USER_PHYSICAL_METRICS"})}))}}}))((function(e){var t=e.addMetricsStatus,n=e.addPhysicalMetrics,o=e.latestHeight,c=e.latestWeight,i=Object(r.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],f=Object(Tn.c)({initialValues:{height:o||"",weight:c||"",date:Bi()()},onSubmit:function(e){n({height:{value:e.height},weight:{value:e.weight},date:e.date.toISOString()})}}),m=f.handleSubmit,E=f.handleChange,p=f.values,g=f.errors,h=f.touched,v=f.handleBlur,S=f.setFieldValue;return Object(r.useEffect)((function(){t===C.SUCCESS?Wt.success("You successfully add a new metric"):t===C.FAILED&&Wt.danger("An error occurred, please try again later")}),[t]),a.a.createElement(Nt,{onSubmit:m},a.a.createElement(Tt,{label:"Your height",name:"height",type:"number",placeholder:"Enter your height",onChange:E,onBlur:v,value:p.height,errorMessage:h.height&&g.height,disabled:t===C.LOADING}),a.a.createElement(Tt,{label:"Your weight",name:"weight",type:"number",placeholder:"Enter your weight",onChange:E,onBlur:v,value:p.weight,errorMessage:h.weight&&g.weight,disabled:t===C.LOADING}),a.a.createElement(xt,{marginBottom:20,display:"flex",flexDirection:"column"},a.a.createElement(wt,null,"Date"),a.a.createElement(Dt,{disabled:t===C.LOADING,date:p.date,onDateChange:function(e){return S("date",e)},focused:l,onFocusChange:function(e){var t=e.focused;return d(t)},id:"day-picker",numberOfMonths:1,hideKeyboardShortcutsPanel:!0,firstDayOfWeek:1,appendToBody:!1,isOutsideRange:function(){return!1},isDayHighlighted:function(e){return Bi()().isSame(e,"d")},openDirection:"up"})),a.a.createElement(Lt,{type:"submit",isLoading:t===C.LOADING,appearance:"primary",disabled:!p.height||!p.weight||!p.date},"Login"))})),Hi=n(164),zi=function(e){var t=e.metrics;return console.log("me",t),a.a.createElement("div",{style:{width:"100%",height:"300px"}},a.a.createElement(Hi.c,null,a.a.createElement(Hi.b,{data:t},a.a.createElement(Hi.a,{type:"monotone",dataKey:"weight.value",stroke:I.PRIMARY}),a.a.createElement(Hi.d,{dataKey:"name"}),a.a.createElement(Hi.e,null))))};zi.defaultProps={};var Xi=zi,Vi=Object(i.b)((function(e){return{metrics:e.user.physicalMetrics,fetchMetricsStatus:e.user.actions.fetchPhysicalMetrics.status}}),(function(e){return{fetchMetrics:function(){return e((function(e){e({type:"FETCH_USER_PHYSICAL_METRICS_LOADING"});var t=ci.getState().user.current;en.get("user/".concat(t._id,"/physical-metrics")).then((function(t){e({type:"FETCH_USER_PHYSICAL_METRICS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_USER_PHYSICAL_METRICS_FAILED",error:e}}({error:"Error during fetching."}))}))}))}}}))((function(e){var t=e.metrics,n=e.fetchMetricsStatus,o=e.fetchMetrics;Object(r.useEffect)((function(){n!==C.SUCCESS&&n!==C.FAILED&&o()}),[]);if(n===C.LOADING)return a.a.createElement(Ut,null);var c,i=t.sort((function(e,t){return e.date<t.date?-1:e.date>t.date?1:0})),u=(c=i).length?c[c.length-1].height.value:null,s=function(e){return e.length?e[e.length-1].weight.value:null}(i);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt,null,"Your stats"),a.a.createElement(xt,{display:"flex",paddingBottom:30},a.a.createElement(xt,{display:"flex",flexGrow:1},a.a.createElement(Mt,null,"Weight: ",s,"kg")),a.a.createElement(xt,{display:"flex",flexGrow:1},a.a.createElement(Mt,null,"Height: ",u,"cm"))),a.a.createElement(Xi,{metrics:i}),a.a.createElement(Wi,{latestHeight:u,latestWeight:s}))}));function qi(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return qi=function(){return e},e}var Ki=O.c.section(qi(),(function(e){return e.withBorderTop?"\n      border-top: 1px solid ".concat(I.TEXT,"77;\n      margin-top: ").concat(w.XL,";\n      padding-top: ").concat(w.XL,";\n    "):"\n      border: none;\n    "})),Yi=Object(i.b)((function(e){return{updatePasswordStatus:e.user.actions.updatePassword.status}}),(function(e){return{updatePassword:function(t){return e(function(e){return function(t){t({type:"UPDATE_PASSWORD_LOADING"});var n=ci.getState().user.current;en.post("user/".concat(n._id,"/change-password"),e).then((function(e){t({type:"UPDATE_PASSWORD_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"UPDATE_PASSWORD_FAILED",error:e}}("Error during adding."))}))}}(t))},cleanUpdatePasswordStore:function(){return e((function(e){return e({type:"CLEAN_UPDATE_PASSWORD"})}))}}}))((function(e){var t=e.updatePasswordStatus,n=e.cleanUpdatePasswordStore,o=e.updatePassword,c=Object(Tn.c)({enableReinitialize:!0,initialValues:{oldPassword:"",newPassword:"",newPasswordConfirm:""},onSubmit:function(e){e.newPassword!==e.newPasswordConfirm?Wt.danger("Your new password and confirmation doesn't match"):(o({current:e.oldPassword,new:e.newPassword}),f())}}),i=c.handleSubmit,u=c.handleChange,s=c.values,l=c.errors,d=c.touched,f=c.resetForm;return Object(r.useEffect)((function(){t===C.SUCCESS?(Wt.success("Your password is correctly changed"),n()):t===C.FAILED&&(Wt.danger("An error occurred, please try again later"),n())}),[n,t]),a.a.createElement(Nt,{onSubmit:i},a.a.createElement(Tt,{label:"Current password",name:"oldPassword",type:"password",required:!0,onChange:u,value:s.oldPassword,errorMessage:d.oldPassword&&l.oldPassword,disabled:t===C.LOADING}),a.a.createElement(Tt,{label:"New password",name:"newPassword",type:"password",required:!0,onChange:u,value:s.newPassword,errorMessage:d.newPassword&&l.newPassword,disabled:t===C.LOADING}),a.a.createElement(Tt,{label:"Confirm new password",name:"newPasswordConfirm",type:"password",required:!0,onChange:u,value:s.newPasswordConfirm,errorMessage:d.newPasswordConfirm&&l.newPasswordConfirm,disabled:t===C.LOADING}),a.a.createElement(Lt,{type:"submit",label:"save",appearance:"primary"}))})),Ji=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).renderLocalAccountSection=function(){var e=r.state.user.accounts.find((function(e){return e.type===U}));return a.a.createElement(Ki,null,a.a.createElement(Bt,{h:2,size:600},"Login"),e?a.a.createElement(Yi,null):a.a.createElement(Mt,null,"No local account"))},r.renderSocialAccountSection=function(){var e=r.state.user.accounts.find((function(e){return e.type===G}));return a.a.createElement(Ki,{withBorderTop:!0},a.a.createElement(Bt,{h:2,size:600},"Social accounts"),a.a.createElement(xt,{display:"flex"},a.a.createElement(Rt,{src:jn.a,alt:"Google icon",width:"20px",style:{marginRight:"5px"}}),a.a.createElement(Mt,null,"Google")),a.a.createElement(Mt,{size:300,marginTop:10},e?"Connected":"Not connected"))},r.state={user:new ln(e.user)},r}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt,null,"Your accounts"),this.renderLocalAccountSection(),this.renderSocialAccountSection())}}]),n}(r.Component),Qi=Object(i.b)((function(e){return{user:e.user.current}}))(Ji);function Zi(){var e=Object(i.d)((function(e){return e.sport.list})),t=e.map((function(e){return e.name})),n=Object(i.d)((function(e){return e.sport.actions.getAll.status})),o=Object(i.d)((function(e){return e.coach.coachProfile})),c=Object(i.d)((function(e){return e.coach.actions.fetchCoachProfile.status})),u=Object(i.d)((function(e){return e.coach.actions.updateCoachProfile.status})),s=Object(i.d)((function(e){return e.coach.actions.createCoachProfile.status})),l=Object(i.c)(),d=function(t){var n,r=[];t.selectedSports.forEach((function(t){r.push(e.find((function(e){return e.name===t}))._id)})),l((n={description:t.description,company:t.company,sports:r},function(e){e({type:"UPDATE_COACH_PROFILE_LOADING"});var t=ci.getState().coach.coachProfile;console.log(t),en.put("coach/".concat(t.coach,"/coach-profile/").concat(t._id),n).then((function(t){e({type:"UPDATE_COACH_PROFILE_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"UPDATE_COACH_PROFILE_FAILED",error:e}}({error:"We could not update your profile. Please try again later."}))}))}))};return Object(r.useEffect)((function(){n||l((function(e){e({type:"GET_SPORTS_LOADING"}),en.get("sport").then((function(t){e({type:"GET_SPORTS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"GET_SPORTS_FAILURE",error:e}}(t.message))}))})),c||l((function(e){e({type:"FETCH_COACH_PROFILE_LOADING"});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/coach-profile")).then((function(t){e({type:"FETCH_COACH_PROFILE_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"FETCH_COACH_PROFILE_FAILED",error:e}}(t.message))}))})),u===C.SUCCESS?Wt.success("Your changes have been saved"):u===C.FAILED&&Wt.danger("An error occurred, please try again later")}),[l,n,c,u]),n&&n!==C.LOADING&&c&&c!==C.LOADING&&s!==C.LOADING?n===C.FAILED||c===C.FAILED||s===C.FAILED?a.a.createElement(yt,{intent:"danger",title:"We could not retrieve your data. Please try again later"}):c!==C.SUCCESS||o||s?a.a.createElement(a.a.Fragment,null,a.a.createElement(Tn.b,{initialValues:{description:o.description,company:o.company,selectedSports:o.sports?o.sports.map((function(t){return e.find((function(e){return e._id===t})).name})):[]},onSubmit:function(e){return d(e)}},(function(e){var n=e.values,r=e.touched,o=e.errors,c=e.handleChange,i=e.handleBlur,s=e.handleSubmit;return a.a.createElement(Nt,{onSubmit:s},a.a.createElement(Tt,{label:"About you",name:"description",type:"textarea",placeholder:"Tell us a bit about yourselve",onChange:c,onBlur:i,value:n.description,errorMessage:r.description&&o.description,disabled:u===C.LOADING}),a.a.createElement(Tt,{label:"Company",name:"company",type:"text",placeholder:"Company (if applicable)",onChange:c,onBlur:i,value:n.company,errorMessage:r.company&&o.company,disabled:u===C.LOADING}),a.a.createElement(Tn.a,{name:"selectedSports",id:"selectedSports"},(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(zt,{title:"Sports",items:t,selectedItems:n.selectedSports,addSelectedItem:e.push,removeSelectedItem:e.remove}))})),a.a.createElement(Lt,{type:"submit",isLoading:u===C.LOADING,appearance:"primary",style:{marginTop:"10px"}},"Save"))}))):(l((function(e){e({type:"CREATE_COACH_PROFILE_LOADING"});var t=ci.getState().user.current;en.post("coach/".concat(t._id,"/coach-profile")).then((function(t){e({type:"CREATE_COACH_PROFILE_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"CREATE_COACH_PROFILE_FAILED",error:e}}(t.message))}))})),a.a.createElement(Ut,null)):a.a.createElement(Ut,null)}var $i=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderSection=function(){switch(e.props.match.params.section){case"profile":return a.a.createElement(Fi,null);case"metrics":return a.a.createElement(Vi,null);case"account-and-security":return a.a.createElement(Qi,null);case"coach-profile":return a.a.createElement(Zi,null);default:return a.a.createElement(Fi,null)}},e}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(xi,{aside:a.a.createElement(ki,null),section:this.renderSection()})})}}]),n}(r.Component);function eu(){var e=Object(b.a)(["\n  display: flex;\n"]);return eu=function(){return e},e}var tu=O.c.nav(eu()),nu=function(e){var t=Object(g.g)();return a.a.createElement(tu,null,[{label:"Exercises",path:"/library/exercises"},{label:"Workouts",path:"/library/workouts"},{label:"Programs",path:"/library/programs"}].map((function(e){return a.a.createElement(Q,{key:e.path,label:e.label,appearance:"minimal",onClick:function(){return t.push(e.path)}})})))},ru=function(e){var t=e.title,n=e.onEdit;return a.a.createElement(xt,{elevation:1,display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,marginTop:10,background:"white"},a.a.createElement(Mt,null,t),a.a.createElement(Lt,{iconBefore:"edit",appearance:"minimal",onClick:n}))},au=function(e){var t=e.initialValues,n=e.onSubmit,r=e.isLoading,o=e.submitText,c=e.onDelete,i=Object(Tn.c)({initialValues:{name:t.name||"",instructions:t.instructions||"",videoUrl:t.videoUrl||"",lang:t.lang||k.EN_US,isPrivate:t.isPrivate||!1},onSubmit:function(e){return n(e)}}),u=i.handleSubmit,s=i.handleBlur,l=i.handleChange,d=i.touched,f=i.values,m=i.errors;return a.a.createElement(Nt,{onSubmit:u},a.a.createElement(Tt,{label:"Language",name:"lang",type:"select",width:150,onChange:l,options:_,onBlur:s,value:f.lang,disabled:!0},_.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value,selected:e.selected},e.label)}))),a.a.createElement(Tt,{label:"Name",name:"name",type:"text",onChange:l,onBlur:s,value:f.name,errorMessage:d.name&&m.name,disabled:r,isRequired:!0}),a.a.createElement(Tt,{label:"Instructions",name:"instructions",type:"textarea",onChange:l,onBlur:s,value:f.instructions,errorMessage:d.instructions&&m.instructions,disabled:r}),a.a.createElement(Tt,{label:"Video URL",name:"videoUrl",type:"text",onChange:l,onBlur:s,value:f.videoUrl,errorMessage:d.videoUrl&&m.videoUrl,disabled:r}),a.a.createElement(xt,{display:"flex"},a.a.createElement(Lt,{type:"submit",isLoading:r,appearance:"primary"},o||"Create"),c&&a.a.createElement(Lt,{type:"button",isLoading:r,appearance:"minimal",intent:"danger",onClick:c},"Delete")))};au.defaultProps={initialValues:{}};var ou=au,cu=function(e){return function(t){t({type:"CREATE_EXERCISE_LOADING"});var n=ci.getState().user.current,r={name:e.name,instructions:e.instructions,lang:e.lang||n.lang,isPrivate:e.isPrivate,userOwnerId:n._id,videoUrl:e.videoUrl};en.post("coach/".concat(n._id,"/exercises"),r).then((function(e){t({type:"CREATE_EXERCISE_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"CREATE_EXERCISE_FAILED",error:e}}(e.message))}))}},iu=Object(i.b)((function(e){return{createExerciseStatus:e.exercise.actions.create.status}}),(function(e){return{createExercise:function(t){return e(cu(t))},cleanCreateActionStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_EXERCISE"})}))}}}))((function(e){var t=e.createExercise,n=e.createExerciseStatus,o=e.onClose,c=e.isOpen,i=e.cleanCreateActionStore;return Object(r.useEffect)((function(){switch(n){case C.FAILED:ut.danger("Error in creation, retry later"),i();break;case C.SUCCESS:ut.success("Exercise successfully created"),i(),o();break;default:return}})),a.a.createElement(qe,{isShown:c,onCloseComplete:o},a.a.createElement(it,null,"Add an exercise"),a.a.createElement(ou,{onSubmit:t}))})),uu=Object(i.b)((function(e){return{exercises:e.exercise.list,updateExerciseStatus:e.exercise.actions.update.status,deleteExerciseStatus:e.exercise.actions.delete.status}}),(function(e){return{updateExercise:function(t,n){return e(function(e,t){return function(n){n({type:"UPDATE_EXERCISE_LOADING"});var r=ci.getState().user.current;en.put("coach/".concat(r._id,"/exercises/").concat(e),t).then((function(e){n({type:"UPDATE_EXERCISE_SUCCESS",payload:e.data})})).catch((function(e){n(function(e){return{type:"UPDATE_EXERCISE_FAILED",error:e}}(e.message))}))}}(t,n))},cleanUpdateActionStore:function(){return e((function(e){return e({type:"CLEAN_UPDATE_EXERCISE"})}))},deleteExercise:function(t){return e(function(e){return function(t){t({type:"DELETE_EXERCISE_LOADING"});var n=ci.getState().user.current;en.delete("coach/".concat(n._id,"/exercises/").concat(e)).then((function(){t({type:"DELETE_EXERCISE_SUCCESS",payload:e})})).catch((function(e){t(function(e){return{type:"DELETE_EXERCISE_FAILED",error:e}}(e.message))}))}}(t))},cleanDeleteActionStore:function(){return e((function(e){return e({type:"CLEAN_DELETE_EXERCISE"})}))}}}))((function(e){var t=e.cleanDeleteActionStore,n=e.cleanUpdateActionStore,o=e.deleteExercise,c=e.exerciseId,i=e.exercises,u=e.onClose,s=e.updateExercise,l=e.updateExerciseStatus,d=e.deleteExerciseStatus;Object(r.useEffect)((function(){switch(l){case C.FAILED:ut.danger("Error in edition, retry later"),n();break;case C.SUCCESS:ut.success("Exercise successfully updated"),n(),u();break;default:return}}),[n,u,l]),Object(r.useEffect)((function(){switch(d){case C.FAILED:ut.danger("Error in deletion, retry later"),t();break;case C.SUCCESS:ut.success("Exercise successfully deleted"),t(),u();break;default:return}}),[t,u,d]);var f=i.find((function(e){return e._id===c})),m=f?{lang:f.content[0].lang,name:f.content[0].name,instructions:f.content[0].instructions,videoUrl:f.content[0].videoUrl,isPrivate:f.isPrivate}:{};return a.a.createElement(qe,{isShown:!!c,onCloseComplete:u},a.a.createElement(it,null,"Edit an exercise"),a.a.createElement(ou,{onSubmit:function(e){var t={isPrivate:f.isPrivate,content:[]};f.content.forEach((function(n){t.content.push({lang:e.lang||n.lang,name:e.name||n.name,instructions:e.instructions||n.instructions})})),s(c,t)},submitText:"Update",initialValues:m,onDelete:function(){return o(c)}}))})),su=Object(i.b)((function(e){return{exercises:e.exercise.list,fetchExerciseStatus:e.exercise.actions.getAll.status}}),(function(e){return{createExercise:function(t){return e(cu(t))},fetchExercises:function(){return e((function(e){e({type:"GET_EXERCISES_LOADING"});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/exercises")).then((function(t){e({type:"GET_EXERCISES_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"GET_EXERCISES_FAILED",error:e}}(t.message))}))}))}}}))((function(e){var t=e.fetchExercises,n=e.exercises,o=e.createExerciseStatus,c=e.fetchExerciseStatus,i=Object(r.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],f=Object(r.useState)(null),m=Object(u.a)(f,2),E=m[0],p=m[1];return Object(r.useEffect)((function(){c!==C.SUCCESS&&t()}),[c,t]),Object(r.useEffect)((function(){switch(c){case C.FAILED:Wt.danger("Error to retrieve exercises");break;case C.SUCCESS:}}),[c]),a.a.createElement("div",null,a.a.createElement(iu,{onClose:function(){return d(!1)},isOpen:l,isLoading:o===C.LOADING}),a.a.createElement(uu,{onClose:function(){return p(null)},exerciseId:E}),a.a.createElement(Lt,{label:"New",iconBefore:"plus",appearance:"minimal",onClick:function(){return d(!0)}}),a.a.createElement("div",null,n.map((function(e){return a.a.createElement(ru,{key:e._id,title:e.content[0].name,onEdit:function(){return p(e._id)}})}))))})),lu=function(e){var t=e.workout,n=e.onEdit;return a.a.createElement(xt,{elevation:1,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:20,marginTop:10,background:"white"},a.a.createElement(Mt,null,t.content[0].title),a.a.createElement(Lt,{iconBefore:"edit",appearance:"minimal",onClick:n}))},du=function(e){var t=e.initialValues,n=e.onSubmit,r=e.isLoading,o=e.submitText,c=e.onDelete,i=Object(Tn.c)({initialValues:{title:t.title||"",instructions:t.instructions||"",lang:t.lang||k.EN_US},onSubmit:function(e){return n(e)}}),u=i.handleSubmit,s=i.handleBlur,l=i.handleChange,d=i.touched,f=i.values,m=i.errors,E=i.setFieldValue;return a.a.createElement(Nt,{onSubmit:u},a.a.createElement(Tt,{label:"Language",name:"lang",type:"select",width:150,onChange:l,options:_,onBlur:s,value:f.lang,disabled:!0},_.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value,selected:e.selected},e.label)}))),a.a.createElement(Tt,{label:"Title",name:"title",type:"text",onChange:l,onBlur:s,value:f.title,errorMessage:d.title&&m.title,isRequired:!0,disabled:r}),a.a.createElement(Tt,{label:"Instructions",name:"instructions",type:"editor-input",onChange:function(e){return E("instructions",e)},value:f.instructions,errorMessage:d.instructions&&m.instructions,disabled:r}),a.a.createElement(xt,{display:"flex"},a.a.createElement(Lt,{type:"submit",isLoading:r,appearance:"primary"},o||"Create"),c&&a.a.createElement(Lt,{type:"button",isLoading:r,appearance:"minimal",intent:"danger",onClick:c},"Delete")))};du.defaultProps={initialValues:{}};var fu=du,mu=function(){return function(e){e({type:"GET_WORKOUTS_LOADING"});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/workouts")).then((function(t){e({type:"GET_WORKOUTS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"GET_WORKOUTS_FAILED",error:e}}(t.message))}))}},Eu=function(e,t){return function(n){n({type:"CREATE_WORKOUT_LOADING"});var r=ci.getState().user.current,a={title:e.title,instructions:e.instructions,lang:e.lang||r.lang||"en",isPrivate:e.isPrivate,userOwnerId:r._id};en.post("coach/".concat(r._id,"/workouts"),a).then((function(e){n({type:"CREATE_WORKOUT_SUCCESS",payload:e.data}),t&&t(e.data._id)})).catch((function(e){n(function(e){return{type:"CREATE_WORKOUT_FAILED",error:e}}(e.message))}))}},pu=Object(i.b)((function(e){return{createWorkoutStatus:e.workout.actions.create.status}}),(function(e){return{createWorkout:function(t){return e(Eu(t))},cleanCreateActionStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_WORKOUT"})}))}}}))((function(e){var t=e.isOpen,n=e.onClose,o=e.createWorkout,c=e.createWorkoutStatus,i=e.cleanCreateActionStore;Object(r.useEffect)((function(){switch(c){case C.FAILED:Wt.danger("Impossible to create the workout"),i();break;case C.SUCCESS:Wt.success("Workout successfully created"),i(),n();break;default:return}}),[i,c,n]);return a.a.createElement(kt,{isShown:t,onCloseComplete:n},a.a.createElement(Bt,null,"Add a workout"),a.a.createElement(fu,{onSubmit:function(e){return o(e)},isLoading:c===C.LOADING}))})),gu=Object(i.b)((function(e){return{workouts:e.workout.list,updateWorkoutStatus:e.workout.actions.update.status,deleteWorkoutStatus:e.workout.actions.delete.status}}),(function(e){return{updateWorkout:function(t,n){return e(function(e,t){return function(n){n({type:"UPDATE_WORKOUT_LOADING"});var r=ci.getState().user.current;en.put("coach/".concat(r._id,"/workouts/").concat(e),t).then((function(e){console.log("lol",e.data),n({type:"UPDATE_WORKOUT_SUCCESS",payload:e.data})})).catch((function(e){n(function(e){return{type:"UPDATE_WORKOUT_FAILED",error:e}}(e.message))}))}}(t,n))},cleanUpdateActionStore:function(){return e((function(e){return e({type:"CLEAN_UPDATE_WORKOUT"})}))},deleteWorkout:function(t){return e(function(e){return function(t){t({type:"DELETE_WORKOUT_LOADING"});var n=ci.getState().user.current;en.delete("coach/".concat(n._id,"/workouts/").concat(e)).then((function(){t({type:"DELETE_WORKOUT_SUCCESS",payload:e})})).catch((function(e){t(function(e){return{type:"DELETE_WORKOUT_FAILED",error:e}}(e.message))}))}}(t))},cleanDeleteActionStore:function(){return e((function(e){return e({type:"CLEAN_DELETE_WORKOUT"})}))}}}))((function(e){var t=e.updateWorkout,n=e.updateWorkoutStatus,o=e.deleteWorkoutStatus,c=e.onClose,i=e.workoutId,u=e.cleanUpdateActionStore,s=e.workouts,l=e.deleteWorkout,d=e.cleanDeleteActionStore;Object(r.useEffect)((function(){switch(n){case C.FAILED:Wt.danger("Error in edition, retry later"),u();break;case C.SUCCESS:Wt.success("Workout successfully updated"),u(),c();break;default:return}}),[u,c,n]),Object(r.useEffect)((function(){switch(o){case C.FAILED:Wt.danger("Error in deletion, retry later"),d();break;case C.SUCCESS:Wt.success("Workout successfully deleted"),d(),c();break;default:return}}),[d,o,c]);var f=s.find((function(e){return e._id===i})),m=f?{lang:f.content[0].lang,title:f.content[0].title,instructions:f.content[0].instructions,isPrivate:f.isPrivate}:{};return a.a.createElement(kt,{isShown:!!i,onCloseComplete:c},a.a.createElement(Bt,null,"Update a workout"),a.a.createElement(fu,{onSubmit:function(e){var n={isPrivate:f.isPrivate,content:[]};f.content.forEach((function(t){n.content.push({lang:e.lang||t.lang,title:e.title||t.title,instructions:e.instructions||t.instructions})})),t(i,n)},submitText:"Update",initialValues:m,onDelete:function(){return l(i)}}))})),hu=function(e){var t=e.fetchWorkoutsStatus,n=e.workouts,o=e.fetchWorkouts,c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],l=i[1],d=Object(r.useState)(null),f=Object(u.a)(d,2),m=f[0],E=f[1];return Object(r.useEffect)((function(){![C.LOADING,C.SUCCESS].includes(t)&&o()}),[o,t]),a.a.createElement("div",null,a.a.createElement(pu,{onClose:function(){return l(!1)},isOpen:s}),a.a.createElement(gu,{onClose:function(){return E(null)},workoutId:m}),a.a.createElement(Lt,{label:"New",iconBefore:"plus",appearance:"minimal",onClick:function(){return l(!0)}}),a.a.createElement("div",null,n.map((function(e){return a.a.createElement(lu,{key:e._id,workout:e,onEdit:function(){return E(e._id)}})}))))};hu.defaultProps={};var vu=Object(i.b)((function(e){return{workouts:e.workout.list,fetchWorkoutsStatus:e.workout.actions.getAll.status}}),(function(e){return{fetchWorkouts:function(){return e(mu())}}}))(hu),Su=function(e){var t=e.program,n=e.onEdit;return a.a.createElement(xt,{elevation:1,display:"flex",alignItems:"flex-start",padding:10,marginTop:10,background:"white"},a.a.createElement(xt,{display:"flex",flexDirection:"column",justifyContent:"flex-start",flexGrow:"1",height:"100%"},a.a.createElement(Mt,{size:500,marginBottom:5},t.content[0].title),a.a.createElement(Mt,{size:300},function(e){var t="".concat(e.days," days");return e.content&&e.content.length&&(t+=" \u2014 ",e.content[0].description.length>30?(t+=e.content[0].description.slice(0,31),t+="..."):t+=e.content[0].description),t}(t))),a.a.createElement(xt,{display:"flex",alignItems:"center"},a.a.createElement(Lt,{appearance:"minimal",onClick:n,size:300},"manage")))},bu=function(e){var t=e.initialValues,n=e.onSubmit,r=e.isLoading,o=Object(Tn.c)({initialValues:{title:t.title||"",description:t.description||"",days:t.days||1,lang:t.lang||k.EN_US,isPrivate:t.isPrivate||!1},onSubmit:function(e){return n(e)}}),c=o.handleSubmit,i=o.handleBlur,u=o.handleChange,s=o.touched,l=o.values,d=o.errors;return a.a.createElement(Nt,{onSubmit:c},a.a.createElement(Tt,{label:"Language",name:"lang",type:"select",width:150,onChange:u,options:_,onBlur:i,value:l.lang,disabled:!0},_.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value,selected:e.selected},e.label)}))),a.a.createElement(Tt,{label:"Title",name:"title",type:"text",onChange:u,onBlur:i,value:l.title,errorMessage:s.title&&d.title,disabled:r,isRequired:!0}),a.a.createElement(Tt,{label:"Description",name:"description",type:"textarea",onChange:u,onBlur:i,value:l.description,errorMessage:s.description&&d.description,disabled:r}),a.a.createElement(Tt,{label:"Number of days",name:"days",type:"number",description:"Enter the length of your program in number of days (e.g. for a 7 days program enter 7).",onChange:u,onBlur:i,value:l.days,errorMessage:s.days&&d.days,disabled:r,isRequired:!0}),a.a.createElement(xt,{display:"flex"},a.a.createElement(Lt,{type:"submit",isLoading:r,appearance:"primary"},"Create")))};bu.defaultProps={initialValues:{}};var Ou=bu,Cu=function(e,t){return function(n){n({type:"DELETE_PROGRAM_LOADING"});var r=ci.getState().user.current;en.delete("coach/".concat(r._id,"/programs/").concat(e)).then((function(){n({type:"DELETE_PROGRAM_SUCCESS",payload:e}),t&&t(e)})).catch((function(e){n(function(e){return{type:"DELETE_PROGRAM_FAILED",error:e}}(e.message))}))}},Au=Object(i.b)((function(e){return{createProgramStatus:e.program.actions.create.status}}),(function(e){return{createProgram:function(t,n){return e(function(e,t){return function(n){n({type:"CREATE_PROGRAM_LOADING"});var r=ci.getState().user.current,a={title:e.title,description:e.description,lang:e.lang||r.lang,isPrivate:e.isPrivate,userOwnerId:r._id,days:e.days,workouts:e.workouts||[]};en.post("coach/".concat(r._id,"/programs"),a).then((function(e){n({type:"CREATE_PROGRAM_SUCCESS",payload:e.data}),t&&t(e.data._id)})).catch((function(e){n(function(e){return{type:"CREATE_PROGRAM_FAILED",error:e}}(e.message))}))}}(t,n))},cleanCreateActionStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_PROGRAM"})}))}}}))((function(e){var t=e.isOpen,n=e.onClose,o=e.createProgram,c=e.createProgramStatus,i=e.cleanCreateActionStore,u=Object(g.g)();Object(r.useEffect)((function(){switch(c){case C.FAILED:Wt.danger("Error in creation, retry later"),i();break;case C.SUCCESS:Wt.success("Program successfully created"),i();break;default:return}}),[i,c]);return a.a.createElement(kt,{isShown:t,onCloseComplete:n},a.a.createElement(Bt,null,"Create a program"),a.a.createElement(Ou,{onSubmit:function(e){o(e,(function(e){u.push("/coach/programs/".concat(e,"/edit"))}))},isLoading:c===C.LOADING}))})),yu=Object(i.b)((function(e){return{programs:e.program.list,fetchProgramStatus:e.program.actions.getAll.status}}),(function(e){return{fetchPrograms:function(){return e((function(e){e({type:"GET_PROGRAMS_LOADING"});var t=ci.getState().user.current;en.get("coach/".concat(t._id,"/programs")).then((function(t){e({type:"GET_PROGRAMS_SUCCESS",payload:t.data})})).catch((function(t){e(function(e){return{type:"GET_PROGRAMS_FAILED",error:e}}(t.message))}))}))}}}))((function(e){var t=e.fetchProgramStatus,n=e.programs,o=e.fetchPrograms,c=Object(g.g)(),i=Object(r.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1];Object(r.useEffect)((function(){t!==C.SUCCESS&&t!==C.FAILED&&o()}),[t,o]),Object(r.useEffect)((function(){switch(t){case C.FAILED:Wt.danger("Error to retrieve programs");break;case C.SUCCESS:}}),[t]);return a.a.createElement("div",null,a.a.createElement(Au,{onClose:function(){return d(!l)},isOpen:l}),a.a.createElement(Lt,{label:"New",iconBefore:"plus",appearance:"minimal",onClick:function(){return d(!0)}}),a.a.createElement("div",null,n.map((function(e){return a.a.createElement(Su,{key:e._id,program:e,onEdit:function(){return t=e._id,void c.push("/coach/programs/".concat(t,"/edit"));var t}})}))))})),_u=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderContent=function(){switch(e.props.type){case"exercises":return a.a.createElement(su,null);case"workouts":return a.a.createElement(vu,null);case"programs":return a.a.createElement(yu,null);default:return a.a.createElement(su,null)}},e}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(Bt,null,"Library"),a.a.createElement(nu,null),this.renderContent())}}]),n}(r.Component),Lu=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.match;return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(_u,{type:e.params.type})})}}]),n}(a.a.Component),Iu=function(){function e(t){Object(d.a)(this,e),this._id=t._id,this.participants=t.participants}return Object(f.a)(e,[{key:"getParticipantsNames",value:function(e){if(!e)throw new Error("Current user ID is required");return this.participants.filter((function(t){return t.user._id!==e})).reduce((function(e,t){var n="";return t.user.firstName&&(n+=t.user.firstName),t.user.lastName&&(n&&(n+=" "),n+=t.user.lastName),n?e?e+", ".concat(n):n:e}),"")}},{key:"getParticipantsNamesArray",value:function(e){if(!e)throw new Error("Current user ID is required");return this.participants.filter((function(t){return t.user._id!==e})).map((function(e){var t="";return e.user.firstName&&(t+=e.user.firstName),e.user.lastName&&(t&&(t+=" "),t+=e.user.lastName),t}))}}]),e}(),ju=Object(i.b)((function(e){return{user:e.user.current}}))((function(e){var t=e.conversation,n=e.onClick,o=e.user,c=Object(r.useState)(null),i=Object(u.a)(c,2),s=i[0],l=i[1];return Object(r.useEffect)((function(){!s&&l(new Iu(t))}),[s,t]),a.a.createElement(xt,{elevation:1,hoverElevation:2,display:"flex",justifyContent:"flexStart",alignItems:"center",padding:20,marginTop:10,onClick:n,background:"white"},a.a.createElement(Mt,null,s&&s.getParticipantsNames(o._id)))})),Du=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goToConversationPage=function(t){e.props.history.push("/conversation/".concat(t))},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props.conversations;return a.a.createElement("div",null,t.map((function(t){return a.a.createElement(ju,{key:t._id,conversation:t,onClick:function(){return e.goToConversationPage(t._id)}})})))}}]),n}(r.Component);Du.defaultProps={conversations:[],isLoading:!1};var Tu=Object(g.h)(Du),Nu=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchConversations;!e.isFetchConversationsSuccess&&t()}},{key:"render",value:function(){var e=this.props,t=e.isFetchConversationsLoading,n=e.conversations;return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(a.a.Fragment,null,a.a.createElement(it,null,"Your messages"),a.a.createElement(Tu,{isLoading:t,conversations:n}))})}}]),n}(r.Component),Ru=Object(i.b)((function(e){return{conversations:e.conversation.list,isFetchConversationsLoading:e.conversation.actions.getAll.loading,isFetchConversationsSuccess:e.conversation.actions.getAll.success,isFetchConversationsError:e.conversation.actions.getAll.error}}),(function(e){return{fetchConversations:function(){return e(li())}}}))(Nu);function Pu(){var e=Object(b.a)(["\n  flex-grow: 1;\n  height: 100%;\n\n  > input {\n    width: 100%;\n    height: 100%;\n    box-shadow: none;\n    padding-left: ",";\n    font-size: 16px;\n  }\n"]);return Pu=function(){return e},e}function wu(){var e=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 60px;\n  border-top: 1px solid ",";\n  align-items: center;\n"]);return wu=function(){return e},e}function xu(){var e=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 60px;\n  border-bottom: 1px solid ",";\n  box-sizing: border-box;\n  padding: ",";\n  align-items: center;\n"]);return xu=function(){return e},e}function ku(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  flex-grow: 1;\n  overflow-y: auto;\n  background-color: white;\n"]);return ku=function(){return e},e}function Uu(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n"]);return Uu=function(){return e},e}var Gu=O.c.article(Uu(),I.TEXT),Fu=O.c.article(ku()),Mu=O.c.header(xu(),I.TEXT,w.M),Bu=O.c.form(wu(),I.TEXT),Wu=O.c.div(Pu(),w.L);function Hu(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  flex-grow: 1;\n  border: 1px solid ",";\n  overflow-y: auto;\n  padding: ",";\n"]);return Hu=function(){return e},e}var zu=O.c.div(Hu(),I.BACKGROUND_LIGHT,w.M);function Xu(){var e=Object(b.a)(["\n  display: flex;\n  max-width: 60%;\n  padding: 5px 10px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  border-bottom-left-radius: ",";\n  border-bottom-right-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return Xu=function(){return e},e}function Vu(){var e=Object(b.a)(["\n  display: flex;\n  margin: 5px;\n  justify-content: ",";\n"]);return Vu=function(){return e},e}var qu=O.c.div(Vu(),(function(e){return e.isLeft?"flex-start":"flex-end"})),Ku=O.c.div(Xu(),(function(e){return e.isLeft?"0":"10px"}),(function(e){return e.isLeft?"10px":"0"}),(function(e){return e.isLeft?I.BACKGROUND_LIGHT:I.PRIMARY}),(function(e){return e.isLeft?"inherit":"white"})),Yu=function(e){var t=e.messageText,n=(e.date,e.isReceiver);return a.a.createElement(qu,{isLeft:!n},a.a.createElement(Ku,{isLeft:!n},a.a.createElement(Mt,null,t)))};Yu.defaultProps={};var Ju=Yu,Qu=function(e){var t=e.messages,n=e.currentUser;return a.a.createElement(zu,null,t.map((function(e){return a.a.createElement(Ju,{key:e._id,messageText:e.text,date:e.createdAt,isReceiver:e.user===n._id})})))};Qu.defaultProps={messages:[]};var Zu=Qu,$u=function(e){return function(t){t({type:Oo});var n=ci.getState().user.current;en.get("user/".concat(n._id,"/conversations/").concat(e,"/messages")).then((function(n){var r;t((r={conversationId:e,messages:n.data},{type:Co,payload:r}))})).catch((function(e){t(function(e){return{type:bo,error:e}}(e.message))}))}},es=function(e,t,n){return function(r){r({type:yo});var a=ci.getState().user.current;en.post("user/".concat(a._id,"/conversations/").concat(e,"/messages"),t).then((function(t){var a;r((a={conversationId:e,message:t.data},{type:_o,payload:a})),n&&n()})).catch((function(e){r(function(e){return{type:Ao,error:e}}(e.message))}))}},ts=Object(i.b)((function(e){return{user:e.user.current}}),(function(e){return{postMessage:function(t,n,r){return e(es(t,n,r))}}}))((function(e){var t=e.conversation,n=e.messages,o=e.user,c=e.postMessage,i=Object(r.useState)(null),s=Object(u.a)(i,2),l=s[0],d=s[1],f=Object(r.useState)(""),m=Object(u.a)(f,2),E=m[0],p=m[1];return Object(r.useEffect)((function(){t&&!l&&d(new Iu(t))}),[t,l]),l?a.a.createElement(Gu,null,a.a.createElement(Mu,null,l.getParticipantsNamesArray(o._id).map((function(e,t){return a.a.createElement(_t,{key:t,name:e,size:32})})),a.a.createElement(Mt,{marginLeft:10},l.getParticipantsNames(o._id))),a.a.createElement(Fu,null,a.a.createElement(Zu,{currentUser:o,messages:n})),a.a.createElement(Bu,{onSubmit:function(e){e.preventDefault(),c(l._id,{text:E},(function(){return p("")}))}},a.a.createElement(Wu,null,a.a.createElement(Pt,{value:E,onChange:function(e){return p(e.target.value)},placeholder:"Send a message"})),a.a.createElement(Lt,{appearance:"minimal"},"Send"))):a.a.createElement(Ut,null)})),ns=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={areMessagesLoaded:!1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,n=e.fetchConversation,r=e.getConversation,a=e.fetchConversationMessages,o=this.state.areMessagesLoaded;!r(t)&&n(t),r(t)&&!o&&a(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.match.params.id,r=t.getConversation,a=t.fetchConversationMessages;!e.getConversation(n)&&r(n)&&a(n)}},{key:"render",value:function(){var e=this.props,t=e.match.params.id,n=e.getConversation,r=e.getConversationMessages;return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(ts,{conversation:n(t),messages:r(t)})})}}]),n}(r.Component),rs=Object(i.b)((function(e){return{getConversation:function(t){return e.conversation.list.find((function(e){return e._id===t}))},getConversationMessages:function(t){return e.message.listByConversationId[t]}}}),(function(e){return{fetchConversation:function(t){return e(di(t))},fetchConversationMessages:function(t){return e($u(t))}}}))(ns),as=n(159);function os(){var e=Object(b.a)(["\n  min-height: 250px;\n"]);return os=function(){return e},e}function cs(){var e=Object(b.a)(["\n  padding: 4px;\n  text-align: center;\n  border-bottom: 1px solid ",";\n  color: ",";\n"]);return cs=function(){return e},e}function is(){var e=Object(b.a)(["\n  border: 1px solid ",";\n  background-color: white;\n  padding: 8px;\n  min-height: 150px;\n  ","\n"]);return is=function(){return e},e}var us=O.c.div(is(),I.BACKGROUND_LIGHT,(function(e){var t=100/e.cols;return"width: ".concat(t<14.28?14.28:t,"%;")})),ss=O.c.div(cs(),I.BACKGROUND_LIGHT,I.TEXT),ls=O.c.div(os());function ds(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 0 1px rgba(67, 90, 111, 0.3);\n  padding: 8px;\n  margin: 4px 0;\n  background-color: white;\n"]);return ds=function(){return e},e}var fs=O.c.div(ds()),ms=Object(i.b)((function(e){return{getWorkout:function(t){return e.workout.list.find((function(e){return e._id===t}))}}}),(function(e){return{fetchWorkout:function(t,n){return e(function(e,t){return function(n){n({type:"FETCH_WORKOUT_LOADING"});var r=ci.getState().user.current;en.get("coach/".concat(r._id,"/workouts/").concat(e)).then((function(e){n({type:"FETCH_WORKOUT_SUCCESS",payload:e.data}),t(e.data)})).catch((function(e){n(function(e){return{type:"FETCH_WORKOUT_FAILED",error:e}}(e.message))}))}}(t,n))}}}))((function(e){var t=e.programWorkout,n=e.index,o=e.onRemove,c=e.getWorkout,i=e.fetchWorkout;Object(r.useEffect)((function(){!c(t.workout)&&i(t.workout)}),[]);return a.a.createElement(as.b,{draggableId:t._id,index:n},(function(e){return a.a.createElement(fs,Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),function(){var e=c(t.workout);if(!e)return a.a.createElement(Mt,null,"Loading...");var n=e.content[0].title;return a.a.createElement(Mt,{size:300},n)}(),a.a.createElement(Lt,{iconBefore:"cross",appearance:"minimal",height:24,onClick:function(){return o(t._id)}}))}))}));function Es(){var e=Object(b.a)(["\n  cursor: pointer;\n"]);return Es=function(){return e},e}var ps=Object(O.c)(xt)(Es()),gs=function(){function e(t){Object(d.a)(this,e),this._id=null,this.langs=[],this.content=[],this.exercises=[],this.isArchived=!1,this.isPrivate=!1,this.userOwner=null,this._id=t._id,this.content=t.content,this.exercises=t.exercises,this.isArchived=t.isArchived,this.isPrivate=t.isPrivate,this.userOwner=t.userOwner,this.setLangs(this.content)}return Object(f.a)(e,[{key:"setLangs",value:function(e){var t=this;e.length&&e.forEach((function(n){t.langs.includes(n.lang)||t.langs.push(e.lang)}))}},{key:"getTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.EN_US,t=this.content.find((function(t){return t.lang===e}));return t?t.title:""}},{key:"getInstructions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.EN_US,t=this.content.find((function(t){return t.lang===e}));return t?t.instructions:""}}]),e}(),hs=Object(i.b)((function(e){return{workouts:e.workout.list.map((function(e){return new gs(e)})),fetchWorkoutsStatus:e.workout.actions.getAll.status}}),(function(e){return{fetchWorkouts:function(){return e(mu())}}}))((function(e){var t=e.workouts,n=e.fetchWorkoutsStatus,o=e.fetchWorkouts,c=e.onWorkoutClicked;return Object(r.useEffect)((function(){![C.LOADING,C.SUCCESS].includes(n)&&o()}),[o,n]),t.length?a.a.createElement(xt,null,t.map((function(e){return a.a.createElement(ps,{key:e._id,elevation:1,marginBottom:5,padding:5},a.a.createElement(Mt,{onClick:function(){return c(e._id)}},e.getTitle()))}))):a.a.createElement(xt,null,"no workouts")})),vs=Object(i.b)((function(e){return{createWorkoutStatus:e.workout.actions.create.status}}),(function(e){return{createWorkout:function(t,n){return e(Eu(t,n))},cleanCreateActionStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_WORKOUT"})}))}}}))((function(e){var t=e.isOpen,n=e.onClose,o=e.createWorkoutStatus,c=e.createWorkout,i=e.cleanCreateActionStore,s=e.onWorkoutChoose,l=["Your workouts","Create new"],d=Object(r.useState)(0),f=Object(u.a)(d,2),m=f[0],E=f[1];Object(r.useEffect)((function(){if(t)switch(o){case C.FAILED:Wt.danger("Impossible to create the workout"),i();break;case C.SUCCESS:Wt.success("Workout successfully created"),i(),n();break;default:return}}),[i,o,t,n]);var p=function(e){c(e,(function(e){s(e),n()}))},g=function(e){s(e),n()};return a.a.createElement(jt,{isShown:t,onCloseComplete:n,title:"Add a workout",hasFooter:!1},a.a.createElement(Ft,{marginBottom:16,flexBasis:240,marginRight:24},l.map((function(e,t){return a.a.createElement(Gt,{key:e,id:e,onSelect:function(){return E(t)},isSelected:t===m,"aria-controls":"panel-".concat(e)},e)}))),l.map((function(e,t){return a.a.createElement(xt,{key:e,id:"panel-".concat(e),role:"tabpanel","aria-labelledby":e,"aria-hidden":t!==m,display:t===m?"block":"none"},0===t&&a.a.createElement(xt,null,a.a.createElement(Mt,{marginBottom:10},"Select the workout you want to add:"),a.a.createElement(hs,{onWorkoutClicked:g})),1===t&&a.a.createElement(fu,{onSubmit:p,isLoading:o===C.LOADING}))})))})),Ss=function(e){var t=e.title,n=e.programWorkouts,o=e.day,c=e.cols,i=e.onWorkoutAdd,s=e.onWorkoutRemove,l=Object(r.useState)(!1),d=Object(u.a)(l,2),f=d[0],m=d[1],E=n.sort((function(e,t){return e.startTime-t.startTime}));return a.a.createElement(us,{cols:c},a.a.createElement(vs,{isOpen:f,onClose:function(){return m(!1)},onWorkoutChoose:function(e){var t=n.map((function(e){return e.startTime})),r=0;t.length&&(r=Math.max.apply(Math,Object(Fr.a)(t))+1),i({_id:Math.random().toString(36).substr(2,9),workout:e,day:o,startTime:r})}}),a.a.createElement(ss,null,a.a.createElement("h4",null,t)),a.a.createElement(as.c,{droppableId:String(o)},(function(e){return a.a.createElement(ls,Object.assign({},e.droppableProps,{ref:e.innerRef}),E.map((function(e,t){return e._id?a.a.createElement(ms,{key:e._id,index:t,programWorkout:e,onRemove:s}):null})),e.placeholder)})),a.a.createElement("div",null,a.a.createElement(Lt,{onClick:function(){return m(!0)}},"Add")))},bs=Object(i.b)((function(e){return{deleteProgramStatus:e.program.actions.delete.status}}),(function(e){return{deleteProgram:function(t,n){return e(Cu(t,n))},cleanDeleteActionStore:function(){return e((function(e){return e({type:"CLEAN_DELETE_PROGRAM"})}))}}}))((function(e){var t=e.isOpen,n=e.onClose,o=e.programTitle,c=e.programId,i=e.deleteProgramStatus,s=e.deleteProgram,l=e.cleanDeleteActionStore,d=Object(g.g)(),f=Object(r.useState)(""),m=Object(u.a)(f,2),E=m[0],p=m[1];Object(r.useEffect)((function(){switch(i){case C.FAILED:Wt.danger("Error in deletion, retry later");break;case C.SUCCESS:Wt.success("Program successfully deleted"),l();break;default:return}}),[l,i,d]);return a.a.createElement(jt,{isShown:t,onCloseComplete:n,title:"Delete a program",hasHeader:!1,intent:"danger",confirmLabel:"I understand the consequences, delete this program",onConfirm:function(){return function(e){s(e,(function(){d.push("/library/programs")}))}(c)},isConfirmLoading:i===C.LOADING,isConfirmDisabled:E!==o},a.a.createElement(xt,{display:"flex",flexDirection:"column"},a.a.createElement(Bt,null,"Are you absolutely sure?"),a.a.createElement(Mt,null,"This action ",a.a.createElement(Mt,{is:"strong"},"cannot")," be undone. This will permanently delete the ",a.a.createElement(Mt,{is:"strong"},o)," ","program, and remove all customers assignations."),a.a.createElement(Mt,{marginTop:10},"Please type ",a.a.createElement(Mt,{is:"strong"},o)," to confirm."),a.a.createElement(Pt,{value:E,width:"100%",marginTop:10,onChange:function(e){return p(e.target.value)}})))}));function Os(){var e=Object(b.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return Os=function(){return e},e}var Cs=O.c.div(Os()),As=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).getSortedProgramWorkoutsFromSpecificDay=function(e){var t=r.state.updatedProgram,n=_r()(t);if(!n.workouts.length)return[];var a=n.workouts.filter((function(t){return t.day===e}));return 1===a.length?a:a.sort((function(e,t){return e.startTime-t.startTime}))},r.orderProgramWorkoutList=function(e,t){return e.forEach((function(e,n){e.startTime=n,e.day=t})),e},r.dragEndHandler=function(e){var t=e.destination,n=e.source;if(t){var a=Number(n.droppableId),o=Number(t.droppableId),c=n.index,i=t.index,u=a===o;if(!u||!(c===i)){var s=r.state.updatedProgram,l=_r()(s);if(u){var d=r.getSortedProgramWorkoutsFromSpecificDay(a),f=d.splice(c,1);d.splice.apply(d,[i,0].concat(Object(Fr.a)(f))),r.orderProgramWorkoutList(d,a),l.workouts.forEach((function(e,t){if(d.some((function(t){return t._id===e._id}))){var n=d.find((function(t){return t._id===e._id}));l.workouts[t]=n}}))}else{var m=r.getSortedProgramWorkoutsFromSpecificDay(a),E=r.getSortedProgramWorkoutsFromSpecificDay(o),p=m.splice(c,1);E.splice.apply(E,[i,0].concat(Object(Fr.a)(p))),r.orderProgramWorkoutList(m,a),r.orderProgramWorkoutList(E,o),l.workouts.forEach((function(e,t){if(m.some((function(t){return t._id===e._id}))){var n=m.find((function(t){return t._id===e._id}));l.workouts[t]=n}else if(E.some((function(t){return t._id===e._id}))){var r=E.find((function(t){return t._id===e._id}));l.workouts[t]=r}}))}r.setState({updatedProgram:l})}}},r.saveProgram=function(){var e=r.props.updateProgram,t=r.state.updatedProgram;e(t._id,t)},r.addProgramWorkoutToProgram=function(e){var t=r.state.updatedProgram;t.workouts.push(e),r.setState({updatedProgram:t})},r.removeProgramWorkoutFromProgram=function(e){var t=r.state.updatedProgram,n=_r()(t),a=n.workouts.find((function(t){return t._id===e})).day,o=n.workouts.findIndex((function(t){return t._id===e}));if(-1!==o){n.workouts.splice(o,1);var c=r.getSortedProgramWorkoutsFromSpecificDay(a);r.orderProgramWorkoutList(c,a),r.setState({updatedProgram:n})}},r.toggleDeleteProgramHandler=function(){var e=r.state.isDeleteModalOpen;r.setState({isDeleteModalOpen:!e})},r.goToPrograms=function(){r.props.history.push("/library/programs")},r.state={updatedProgram:_r()(e.program),isDeleteModalOpen:!1,isProgramUpdated:!1},r}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.updatedProgram,r=t.isDeleteModalOpen;return n?a.a.createElement("div",null,a.a.createElement(bs,{isOpen:r,onClose:this.toggleDeleteProgramHandler,programTitle:n.content[0].title,programId:n._id}),a.a.createElement("h1",null,n.content[0].title),a.a.createElement(Lt,{onClick:this.goToPrograms},"Back to programs"),a.a.createElement(Lt,{onClick:this.saveProgram},"Save"),a.a.createElement(Lt,{onClick:this.toggleDeleteProgramHandler,appearance:"minimal",intent:"danger"},"Delete the program"),a.a.createElement(as.a,{onDragEnd:this.dragEndHandler},a.a.createElement(Cs,null,Object(Fr.a)(Array(n.days).keys()).map((function(t){var r="Day ".concat(t+1),o=n.workouts.filter((function(e){return e.day===t+1}));return a.a.createElement(Ss,{day:t+1,key:r,title:r,programWorkouts:o,onWorkoutAdd:e.addProgramWorkoutToProgram,onWorkoutRemove:e.removeProgramWorkoutFromProgram,cols:n.days})}))))):a.a.createElement(Ut,null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.updateProgramStatus;return n===C.LOADING?{isProgramUpdated:!1}:n!==C.SUCCESS||t.isProgramUpdated?t:{updatedProgram:e.program}}}]),n}(r.Component),ys=Object(g.h)(Object(i.b)((function(e){return{updateProgramStatus:e.program.actions.update.status}}),(function(e){return{updateProgram:function(t,n){return e(function(e,t){return function(n){n({type:"UPDATE_PROGRAM_LOADING"});var r=ci.getState().user.current;t.workouts.forEach((function(e){delete e._id})),en.put("coach/".concat(r._id,"/programs/").concat(e),t).then((function(e){n({type:"UPDATE_PROGRAM_SUCCESS",payload:e.data})})).catch((function(e){n(function(e){return{type:"UPDATE_PROGRAM_FAILED",error:e}}(e.message))}))}}(t,n))},deleteProgram:function(t){return e(Cu(t))}}}))(As)),_s=Object(i.b)((function(e){return{customers:e.customer.list.map((function(e){return e.lead})),createAssignmentStatus:e.assignment.actions.create.status}}),(function(e){return{fetchContacts:function(){return e(ii())},createAssignment:function(t,n){return e(function(e,t){return function(n){n({type:"CREATE_ASSIGNMENT_LOADING"});var r=ci.getState().user.current;en.post("coach/".concat(r._id,"/programs/").concat(e,"/assign"),t).then((function(t){n(function(e,t){return{type:"CREATE_ASSIGNMENT_SUCCESS",payload:t,programId:e}}(e,t.data))})).catch((function(e){n(function(e){return{type:"CREATE_ASSIGNMENT_FAILED",error:e}}(e.message))}))}}(t,n))},cleanCreateAssignmentStore:function(){return e((function(e){return e({type:"CLEAN_CREATE_ASSIGNMENT"})}))}}}))((function(e){var t=e.isOpen,n=e.onClose,o=e.customers,c=e.fetchContacts,i=(e.createAssignment,e.createAssignmentStatus),s=e.cleanCreateAssignmentStore,l=e.programId,d=Object(r.useState)([]),f=Object(u.a)(d,2),m=f[0],E=f[1],p=Object(r.useState)(!1),g=Object(u.a)(p,2),h=g[0],v=g[1],S=Object(r.useState)(null),b=Object(u.a)(S,2),O=b[0],A=b[1];Object(r.useEffect)((function(){t&&(o.length||c())}),[o.length,c,t]),Object(r.useEffect)((function(){switch(i){case C.SUCCESS:s(),n();break;case C.FAILED:Wt.danger("Error during the assignment, retry later"),s();break;default:return}}),[s,i,n]);var y=function(e){var t=e.target.value,n=Object(Fr.a)(m);if(m.includes(t)){var r=m.indexOf(t);n.splice(r,1),E(n)}else n.push(t),E(n)},_=function(){console.log("program id",l),console.log("data",{traineeIds:m,startDate:O.toISOString()})};return a.a.createElement(jt,{isShown:t,onCloseComplete:n,title:"Assign customers",width:700,onConfirm:_,isConfirmLoading:i===C.LOADING},a.a.createElement(Nt,{onSubmit:_},a.a.createElement(xt,{display:"flex",width:"50%"},a.a.createElement(xt,{width:"100%",flexDirection:"column"},a.a.createElement(Mt,null,"Selected (".concat(m.length,")")),o.map((function(e){return a.a.createElement(xt,{display:"flex",key:e._id,alignItems:"center"},a.a.createElement(It,{name:"selectedUserIds",value:e._id,onChange:y,checked:m.includes(e._id)}))}))),a.a.createElement(xt,null,a.a.createElement(Mt,null,"Starting day"),a.a.createElement(Dt,{date:O,onDateChange:function(e){return A(e)},focused:h,onFocusChange:function(e){var t=e.focused;return v(t)},id:"day-picker",numberOfMonths:1,hideKeyboardShortcutsPanel:!0,firstDayOfWeek:1})))))})),Ls=function(e){var t=e.programId,n=e.getAssignments,o=(e.fetchCustomer,Object(r.useState)(!1)),c=Object(u.a)(o,2),i=c[0],s=c[1];Object(r.useEffect)((function(){}),[]);return a.a.createElement("div",null,a.a.createElement(_s,{isOpen:i,onClose:function(){return s(!1)},programId:t}),a.a.createElement("h2",null,"Assigned customers"),a.a.createElement("div",null,function(){var e=n(t);return e?e.length:0}()),a.a.createElement(Lt,{onClick:function(){return s(!0)}},"Assign"))};Ls.defaultProps={userIds:[]};var Is=Object(i.b)((function(e){return{getAssignments:function(t){return e.assignment.list[t]}}}),(function(e){return{}}))(Ls),js=a.a.memo((function(e){var t=e.match,n=e.getProgram,o=e.fetchProgramStatus,c=e.fetchProgram,i=e.updateProgramStatus,u=e.history,s=e.cleanFetchProgramActionStore,l=t.params.id;Object(r.useEffect)((function(){!n(l)&&c(l)}),[]),Object(r.useEffect)((function(){i===C.SUCCESS&&Wt.success("Program successfully updated")}),[u,i]),Object(r.useEffect)((function(){o===C.FAILED&&(Wt.danger("Program not found"),u.push("/library/programs"),s())}),[u,o,s]);var d=n(l);return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:d?a.a.createElement(a.a.Fragment,null,a.a.createElement(Is,{programId:d._id}),a.a.createElement(ys,{program:d})):a.a.createElement(Ut,null),isMainFull:!0})}));function Ds(){return a.a.createElement("div",null,a.a.createElement(ot,{size:800},"Become a Coach"),a.a.createElement("p",null,"Fitigai is the perfect tool to help you make your career grow as a coach: Manage your appointments, create exercises, workouts and programs to share with your trainees, get more visible and find new customers easily!"))}function Ts(){return a.a.createElement("div",null,a.a.createElement(ot,{size:800},"Congratulations!"),a.a.createElement(ot,{size:500},"You are now a Coach!"),a.a.createElement("p",null,"You can start add customers, create services, exercises, workouts, programs and much more!"))}function Ns(){var e=Object(r.useState)("intro"),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(i.d)((function(e){return e.user.actions.update.status})),s=Object(i.d)((function(e){return e.user.current})),l=Object(i.c)(),d=["intro","final"];return Object(r.useEffect)((function(){s.isCoach?o(d[d.length-1]):c===C.SUCCESS?(o(d[d.length-1]),l((function(e){return e({type:"CLEAN_UPDATE_USER"})}))):c===C.FAILED&&Wt.danger("An error occurred, please try again later")}),[d,c,s]),c===C.LOADING?a.a.createElement(Ut,null):a.a.createElement(xt,{elevation:4,width:"33%",alignItems:"center",justifyContent:"center",margin:"auto"},"intro"===n&&a.a.createElement(Ds,null),"final"===n&&a.a.createElement(Ts,null),"intro"===n&&a.a.createElement(Lt,{type:"submit",label:"Start",appearance:"primary",onClick:function(e){return function(){var e=d.findIndex((function(e){return e===n}))+1;e===d.length-1?l(Gi({isCoach:!0})):o(d[e])}()}}))}var Rs=[{path:"/login",isExact:!0,isProtected:!1,isOnlyCoach:!1,component:xn},{path:"/register",isExact:!0,isProtected:!1,isOnlyCoach:!1,component:Fn},{path:"/",isExact:!0,isProtected:!0,isOnlyCoach:!1,component:yn},{path:"/customers",isExact:!0,isProtected:!0,isOnlyCoach:!0,component:Ei},{path:"/services",isExact:!0,isProtected:!0,isOnlyCoach:!0,component:ji},{path:"/account/:section",isExact:!0,isProtected:!0,isOnlyCoach:!1,component:$i},{path:"/library/:type",isExact:!0,isProtected:!0,isOnlyCoach:!0,component:Lu},{path:"/inbox",isExact:!0,isProtected:!0,isOnlyCoach:!1,component:Ru},{path:"/conversation/:id",isExact:!0,isProtected:!0,isOnlyCoach:!1,component:rs},{path:"/coach/programs/:id/edit",isExact:!0,isProtected:!0,isOnlyCoach:!0,component:Object(i.b)((function(e){return{getProgram:function(t){return e.program.list.find((function(e){return e._id===t}))},fetchProgramStatus:e.program.actions.getOne.status,updateProgramStatus:e.program.actions.update.status}}),(function(e){return{fetchProgram:function(t){return e(function(e){return function(t){t({type:"GET_ONE_LOADING"});var n=ci.getState().user.current;en.get("coach/".concat(n._id,"/programs/").concat(e)).then((function(e){t({type:"GET_ONE_SUCCESS",payload:e.data})})).catch((function(e){t(function(e){return{type:"GET_ONE_FAILED",error:e}}(e.message))}))}}(t))},cleanFetchProgramActionStore:function(){return e((function(e){return e({type:"CLEAN_GET_ONE"})}))},cleanUpdateProgramActionStore:function(){return e((function(e){return e({type:"CLEAN_UPDATE_PROGRAM"})}))}}}))(js)},{path:"/coach/new",isExact:!0,isProtected:!0,isOnlyCoach:!1,component:function(){return a.a.createElement(Vt,{header:a.a.createElement(An,null),main:a.a.createElement(Ns,null),isMainFull:!0})}}],Ps=function(e){Object(m.a)(n,e);var t=Object(E.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement(g.d,null,Rs.map((function(e){var t=e.isProtected?S:g.b;return a.a.createElement(t,{key:e.path,path:e.path,exact:e.isExact,onlyCoach:e.isOnlyCoach,component:e.component})})),a.a.createElement(g.a,{from:"*",to:"/"})))}}]),n}(r.Component);function ws(){var e=Object(b.a)(["\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  body,\n  #root {\n    font-family: 'Roboto', sans-serif;\n    font-size: 1rem;\n    width: 100vw;\n    height: 100vh;\n  }\n\n  a {\n    text-decoration: none;\n  }\n"]);return ws=function(){return e},e}var xs=Object(O.b)(ws()),ks=Object(i.b)((function(e){return{user:e.user.current,autoLoginStatus:e.user.actions.fetchAuthUser.status}}),(function(e){return{autoLogin:function(t){return e(Ui(t))}}}))((function(e){var t=e.autoLoginStatus,n=e.autoLogin,o=(e.user,Object(r.useState)(!1)),c=Object(u.a)(o,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){var e=window.location.href.includes("?")?l.a.parse(window.location.href.split("?")[1]):null,t=e&&e.token?e.token:null;t&&jr(t.replace("#","")),n()}),[]),Object(r.useEffect)((function(){t!==C.SUCCESS&&t!==C.FAILED||s(!0)}),[t]),i?a.a.createElement(Ps,null):a.a.createElement(Ze,null)})),Us={colorBorder:I.BORDER,colorText:I.TEXT,fontSizeXS:"0.7rem",fontSizeS:"0.9rem",fontSizeM:"1rem",fontWeightNormal:"300",fontWeightBold:"700"},Gs=function(e){var t=e.children;return a.a.createElement(O.a,{theme:Us},t)};c.a.render(a.a.createElement(i.a,{store:ci},a.a.createElement(Gs,null,a.a.createElement(xs,null),a.a.createElement(ks,null))),document.getElementById("root"))}},[[516,1,2]]]);
//# sourceMappingURL=main.d4883e1b.chunk.js.map